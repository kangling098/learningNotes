(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{"Ht/E":function(e,a,t){"use strict";var l=t("TqRt"),r=t("284h");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var n,i,d,s,o=l(t("MVZn")),c=l(t("lwsE")),u=l(t("W8MJ")),f=l(t("a1gu")),_=l(t("Nsbk")),m=l(t("7W2i")),p=r(t("q1tI")),v=l(t("O8Rh")),y=t("Uy/S"),h=l(t("Kr6O")),b=l(t("1UQL")),w=l(t("IgyS")),E=l(t("ZfYN")),D=l(t("Gmu2")),g=l(t("EGzU")),T=l(t("0O5e")),C=l(t("J2m7")),M="error_crash",k=(n=(0,v.default)(),n((s=d=function(e){function a(){var e,t;(0,c.default)(this,a);for(var l=arguments.length,r=new Array(l),n=0;n<l;n++)r[n]=arguments[n];return t=(0,f.default)(this,(e=(0,_.default)(a)).call.apply(e,[this].concat(r))),t.explandRowRender=function(e,a){var l=[{name:"\u79df\u6237TOP10",key:"tenant_top_10",title:"\u79df\u6237\u524d\u7aef\u9519\u8befTOP10"},{name:"\u8d8b\u52bf",key:"trend",title:"\u524d\u7aef\u9519\u8bef\u8d8b\u52bf"}],r=t.props.isSaasApp,n=a.date_unit,i=a.from_date,d=a.to_date,s=a.order_by,c=a.num_fields,u=a.dim_fields,f=a.tenantCode,_=u[0],m={date_unit:n,from_date:i,to_date:d,order_by:s,filter:["".concat(_.name,"$eq(").concat(e[_.alias],")")]};if(Array.isArray(s)&&s.length>0){var v=s[0].split("$")[0],h=(0,C.default)(c,function(e){return e.alias===v});h&&(l[0].title="\u79df\u6237".concat(h.alias,"TOP10"),m.extra_num_field=(0,o.default)({},h),m.order_by=[s[0]])}return p.default.createElement(T.default,{name:"".concat(M,"_list_detail_").concat(e.key),analysisModel:M,DataModel:y.CrashExplandDetail,params:m,tabPreferKey:"".concat(M,"::tab-prefer"),tabs:r&&!f?l:[l[1]]},p.default.createElement(E.default,{chartHeight:"280px"}))},t}return(0,m.default)(a,e),(0,u.default)(a,[{key:"render",value:function(){var e=this.props.isHybridApp;return p.default.createElement(h.default,{navTitle:"\u524d\u7aef\u9519\u8bef"},p.default.createElement(b.default,{title:"\u524d\u7aef\u9519\u8bef\u8d8b\u52bf"},p.default.createElement(g.default,{analysisModel:M,name:"".concat(M,"_trend_filter"),dataModels:[{name:"".concat(M,"_trend"),DataModel:y.CrashTrend,paginationable:!1,component:p.default.createElement(E.default,null)}],tagSelectorData:this.props.isHybridApp?y.crashTrendTagsData:[y.crashTrendTagsData[0]],TagSelectorModel:y.CrashTrendTags,tabPreferKey:"".concat(M,"::crash-trend-tab-prefer"),tabs:a.CRASH_TREND_TABS})),p.default.createElement(b.default,{title:e?"\u524d\u7aef\u9519\u8bef\u5360\u6bd4":"\u524d\u7aef\u6d4f\u89c8\u5668\u51fa\u73b0\u9519\u8bef\u5360\u6bd4"},p.default.createElement(g.default,{analysisModel:M,name:"".concat(M,"_overview_filter"),dataModels:e?a.OVERVIEW_MODELS:[(0,o.default)({},a.OVERVIEW_MODELS[0],{title:"",style:{}})]})),p.default.createElement(b.default,{title:"\u9875\u9762\u9519\u8bef\u5217\u8868"},p.default.createElement(g.default,{analysisModel:M,name:"".concat(M,"_list_filter"),searchPlaceHolder:"\u8bf7\u8f93\u5165\u9875\u9762\u540d\u79f0",openSearch:!0,disableNoDataStatus:!0,dataModels:[{name:"".concat(M,"_list"),DataModel:y.CrashList,paginationable:!0,component:p.default.createElement(w.default,{explandRowRender:this.explandRowRender,detailDialogRender:a.detailDialogRender})}]})))}}],[{key:"detailDialogRender",value:function(e,a){var t=a.name,l=a.date_unit,r=a.from_date,n=a.to_date,i=a.dim_fields,d=a.appCode,s=a.tenantCode,o=i[0],c=e.rowData[o.alias],u={date_unit:l,from_date:r,to_date:n,appCode:d,tenantCode:s,filter:["".concat(o.name,"$eq(").concat(c,")")]};return p.default.createElement(D.default,{analysisModel:M,name:"".concat(t,"_detail_").concat(c),paginationable:!0,DataModel:e.DataModel,show:e.show,onCancel:e.onCancel,params:u,title:"\u5f71\u54cd\u7528\u6237"},p.default.createElement(w.default,null))}}]),a}(p.PureComponent),d.OVERVIEW_MODELS=[{name:"".concat(M,"_overview_browser"),title:"\u6d4f\u89c8\u5668",DataModel:y.CrashOverviewBrowser,paginationable:!1,style:{float:"left",width:"50%"},component:p.default.createElement(E.default,{chartType:"pielike"})},{name:"".concat(M,"_overview_device"),title:"\u79fb\u52a8\u8bbe\u5907",DataModel:y.CrashOverviewDevice,paginationable:!1,style:{float:"left",width:"50%"},component:p.default.createElement(E.default,{chartType:"pielike"})}],d.CRASH_TREND_TABS=[{name:"\u53d1\u751f\u6b21\u6570",key:"event_times"},{name:"\u5f71\u54cd\u7528\u6237\u6570",key:"affected_users"}],i=s))||i),x=k;a.default=x},"Uy/S":function(e,a,t){"use strict";var l=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.CrashExplandDetail=a.CrashList=a.CrashUserList=a.CrashOverviewDevice=a.CrashOverviewBrowser=a.CrashTrendTags=a.crashTrendTagsData=a.CrashTrend=void 0;var r=l(t("RIqP")),n=l(t("QILm")),i=l(t("MVZn")),d=l(t("lwsE")),s=t("zLPB"),o=t("Zf/7"),c={hour:"hour",day:"dt"},u={hour:"event_time_hour ",day:"dt"},f="\u79df\u6237",_="\u552f\u4e00\u6807\u8bc6",m="\u771f\u5b9e\u7528\u6237",p="\u65f6\u95f4",v="\u9875\u9762",y="\u6d4f\u89c8\u5668",h="\u6d4f\u89c8\u5668\u7248\u672c",b="\u8bbe\u5907\u54c1\u724c",w="\u8bbe\u5907\u578b\u53f7",E="\u53d1\u751f\u6b21\u6570",D="\u5f71\u54cd\u7528\u6237\u6570",g=function e(a,t){var l=a.date_unit,r=a.keyword;(0,d.default)(this,e);var n={event_times:{num_fields:[{alias:E,name:"times",fomula:"sum",type:"line"}],value_axis:[{name:"\u6b21\u6570"}]},affected_users:{num_fields:[{alias:D,name:"users",fomula:"sum",type:"line"}],value_axis:[{name:"\u7528\u6237\u6570"}]}},i=n[t],s=i.num_fields,o=i.value_axis;return{value_axis:o,num_fields:s,dim_fields:[{alias:p,name:c[l],data_fill:!0}],order_by:["".concat(p,"$asc")],category_axis:{axisLabel:{interval:"auto"}},tooltip:{axisPointer:{type:"line",lineStyle:{color:"#8C9BA5",opacity:.6}}},filter:r?["title$lk(".concat(r,")")]:[]}};a.CrashTrend=g;var T=[{alias:y,name:"browser_name",sub_dim:{alias:h,upper_alias:y,name:"browser_version",multi_select:!0}},{alias:b,name:"device_manufacturer",sub_dim:{alias:w,upper_alias:b,name:"device_model",multi_select:!0}}];a.crashTrendTagsData=T;var C=function e(a){(0,d.default)(this,e);var t=a.keyword?["title$lk(".concat(a.keyword,")")]:[];return a.filter=Array.isArray(a.filter)?a.filter.concat(t):t,(0,i.default)({page_size:5,num_fields:[{alias:E,name:"times",fomula:"sum",hidden:!0}],order_by:["".concat(E,"$desc")]},a)};a.CrashTrendTags=C;var M=function e(a){var t=a.keyword;return(0,d.default)(this,e),{data_limit:8,dim_fields:[{alias:y,name:"browser_name"}],num_fields:[{alias:E,name:"times",fomula:"sum"}],order_by:["".concat(E,"$desc")],filter:t?["title$lk(".concat(t,")")]:[]}};a.CrashOverviewBrowser=M;var k=function e(a){var t=a.keyword;return(0,d.default)(this,e),{data_limit:8,dim_fields:[{alias:b,name:"device_model"}],num_fields:[{alias:E,name:"times",fomula:"sum"}],order_by:["".concat(E,"$desc")],filter:t?["title$lk(".concat(t,")")]:[]}};a.CrashOverviewDevice=k;var x=function e(a){return(0,d.default)(this,e),(0,i.default)({page:1,page_size:10,model_type:o.MODE_TYPES.fct,dim_fields:[{alias:f,name:"tenant"},{alias:m,name:"real_user_id"},{alias:_,name:"user_id"},{alias:p,name:"dt",formatter:function(e){return(0,s.dateFormatter)(e,"YYYY.MM.DD HH:MM:SS")}}],order_by:["".concat(p,"$desc"),"".concat(f,"$asc"),"".concat(m,"$asc"),"".concat(_,"$asc")]},a)};a.CrashUserList=x;var O=function e(a){var t=a.keyword,l=a.from_date,r=a.to_date;return(0,d.default)(this,e),{page:1,page_size:10,model_type:o.MODE_TYPES.fct,static_sort:"".concat(v,"$asc"),dim_fields:[{alias:v,name:"title"}],num_fields:[{alias:E,name:"1",fomula:"count",sortable:!0,defaultSort:"desc",navto:"/errors/crash_list",navtoExplandData:{from_date:l,to_date:r}},{alias:D,name:"user_id",fomula:"count",filter:"uq",sortable:!0,dialogDetail:x}],filter:t?["title$lk(".concat(t,")")]:[]}};a.CrashList=O;var S=function e(a,t){var l=a.extra_num_field,s=a.date_unit,c=a.order_by,_=a.filter,m=(0,n.default)(a,["extra_num_field","date_unit","order_by","filter"]);(0,d.default)(this,e);var v={tenant_top_10:{page:1,page_size:10,filter:["tenant$isnet()"].concat((0,r.default)(_)),chart_type:"barlike_horizon",grid:{left:"10%",right:"10%"},dim_fields:[{alias:f,name:"tenant"}],num_fields:[{alias:E,name:"1",fomula:"count"}],order_by:["".concat(E,"$desc")],value_axis:[{name:"\u6b21\u6570"}]},trend:{filter:_,dim_fields:[{alias:p,name:u[s],data_fill:!0}],num_fields:[{alias:E,name:"1",fomula:"count",type:"line"},{alias:D,name:"user_id",fomula:"count",filter:"uq",yAxisIndex:1,type:"line"}],order_by:["".concat(p,"$asc")],chart_type:"barlike",tooltip:{axisPointer:{type:"line",lineStyle:{color:"#8C9BA5",opacity:.6}}},value_axis:[{name:"\u6b21\u6570"},{name:"\u7528\u6237\u6570",splitLine:{show:!1}}],category_axis:{axisLabel:{interval:"auto"}}}},y=(0,i.default)({model_type:o.MODE_TYPES.fct,date_unit:s},m,v[t]);return"trend"!==t&&l&&(y.num_fields=[l],y.order_by=c),y};a.CrashExplandDetail=S}}]);