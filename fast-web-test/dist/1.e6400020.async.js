(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"2hqy":function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,u,d,o=n(a("lwsE")),i=n(a("W8MJ")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("7W2i")),p=l(a("q1tI")),h=(n(a("17x9")),a("MuoO")),m=n(a("Mj6V")),g=n(a("3dzz")),v=n(a("NmTa")),_=n(a("9je+")),y=function(e){return/\/login/.test(e)?"login":"primary"},E={login:_.default,primary:v.default},S=function(e){return/\/(manage|(errors\/crash_(list|detail)))/.test(e)?{hideSiderMenu:!0,hideHeaderSelector:!0}:{}},N=(r=(0,h.connect)(function(e){var t=e.loading;return{loading:t}}),r((d=function(e){function t(){var e,a;(0,o.default)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,s.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(l))),a.previousPath="",a._getGlobalLoadingStatus=function(){var e=a.props.loading.effects,t=["user/fetchUserLogin","user/fetchUserProfile","user/fetchUserLogout","tracker/fetchTrackerList","product/fetchProductList","common/fetchProductList","common/fetchAppList","common/productCode","common/appCode"];return!!t.some(function(t){return e&&e[t]})},a}return(0,f.default)(t,e),(0,i.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.route.routes,a=e.dispatch;a({type:"common/queryMenuDataFromRoutes",payload:t})}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.location,n=E[y(a.pathname)],l=S(a.pathname),r=a.pathname+a.search,u=this._getGlobalLoadingStatus();return r!==this.previousPath&&m.default.start(),u||(m.default.done(),this.previousPath=r),p.default.createElement("div",{id:"fast-web-base-layout",style:{width:"100%",minWidth:"1200px",height:"100%",position:"relative",zIndex:0}},p.default.createElement(g.default,{spinning:u,fullScreen:!0}),p.default.createElement(n,l,t))}}]),t}(p.PureComponent),u=d))||u),L=N;t.default=L},"3dzz":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=n(a("lSNA")),r=n(a("q1tI")),u=(n(a("17x9")),n(a("TSYQ"))),d=n(a("5B2C")),o=function(e){var t,a=e.spinning,n=void 0!==a&&a,o=e.fullScreen;return r.default.createElement("div",{className:(0,u.default)(d.default.loader,(t={},(0,l.default)(t,d.default.hidden,!n),(0,l.default)(t,d.default.fullScreen,o),t))},r.default.createElement("div",{className:d.default.warpper},r.default.createElement("div",{className:d.default.inner}),r.default.createElement("div",{className:d.default.text},"LOADING")))},i=o;t.default=i},"5B2C":function(e,t,a){e.exports={loader:"loader___U0gXU",fullScreen:"fullScreen___3stt8",warpper:"warpper___1_Ml1",inner:"inner___LZ9-r",spinner:"spinner___2-IFt",text:"text___27oz3",hidden:"hidden___2sYXU"}},"9je+":function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("+L6B");var r=n(a("2/Rp"));a("5NDa");var u=n(a("5rEg")),d=n(a("lwsE")),o=n(a("W8MJ")),i=n(a("a1gu")),s=n(a("Nsbk")),c=n(a("7W2i"));a("y8nQ");var f,p,h,m=n(a("Vl3Y")),g=l(a("q1tI")),v=n(a("q4Da")),_=(f=m.default.create(),f((h=function(e){function t(){var e,a;(0,d.default)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,i.default)(this,(e=(0,s.default)(t)).call.apply(e,[this].concat(l))),a.handleSubmitLogin=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||window.g_app._store.dispatch({type:"user/fetchUserLogin",payload:t})})},a}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return g.default.createElement("div",{className:v.default.loginBackground},g.default.createElement("div",{className:v.default.login},g.default.createElement("div",{className:v.default.rightGhost}),g.default.createElement("div",{className:v.default.right},g.default.createElement("div",{className:v.default.logo}),this.renderLoginForm())))}},{key:"renderLoginForm",value:function(){var e=this.props.form.getFieldDecorator;return g.default.createElement(m.default,{onSubmit:this.handleSubmitLogin,className:v.default.loginForm},g.default.createElement("div",{className:v.default.head},g.default.createElement("h1",{className:v.default.title},"\u767b\u5f55"),g.default.createElement("p",{className:v.default.des},"\u8bf7\u4f7f\u7528\u660e\u6e90\u4e91\u57df\u5e10\u53f7\u767b\u5f55\u5929\u773c\u5e73\u53f0")),g.default.createElement(m.default.Item,null,e("account",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d26\u53f7!"}]})(g.default.createElement(u.default,{size:"large",placeholder:"\u8d26\u53f7",onPressEnter:this.handleSubmitLogin}))),g.default.createElement(m.default.Item,null,e("password",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801!"}]})(g.default.createElement(u.default,{size:"large",type:"password",placeholder:"\u5bc6\u7801",onPressEnter:this.handleSubmitLogin}))),g.default.createElement(m.default.Item,null,g.default.createElement(r.default,{type:"primary",htmlType:"submit",size:"large",className:v.default.submitbtn},"\u767b\u5f55")))}}]),t}(g.PureComponent),p=h))||p),y=_;t.default=y},AcjU:function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("lUTK");var r,u,d=n(a("BvKs")),o=n(a("lwsE")),i=n(a("W8MJ")),s=n(a("a1gu")),c=n(a("Nsbk")),f=n(a("7W2i")),p=l(a("q1tI")),h=(n(a("17x9")),n(a("utR0"))),m=n(a("WvCx")),g=n(a("5DY1")),v=a("+n12"),_=n(a("x4zE")),y=(0,h.default)((u=function(e){function t(e){var a;(0,o.default)(this,t),a=(0,s.default)(this,(0,c.default)(t).call(this,e)),a.generateMenus=function(e){return e.map(function(e){return e.routes.length>0?p.default.createElement(d.default.SubMenu,{key:e.key,title:p.default.createElement(p.Fragment,null,e.icon&&p.default.createElement(m.default,{type:e.icon}),p.default.createElement("span",null,e.name))},a.generateMenus(e.routes)):p.default.createElement(d.default.Item,{key:e.key},p.default.createElement(g.default,{to:e.path||"#"},e.icon&&p.default.createElement(m.default,{type:e.icon}),p.default.createElement("span",null,e.name)))})};var n=e.menuData;return a.state={defaultOpenKeys:Array.isArray(n)?n.map(function(e){var t=e.key;return t}):[]},a}return(0,f.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.menuData,a=e.menus,n=e.location,l=this.state.defaultOpenKeys,r=a.find(function(e){return e.path&&(0,v.pathMatchRegexp)(e.path,n.pathname)}),u=r?(0,v.queryAncestors)(a,r,"parentPath","key").map(function(e){return e.key}):[];return p.default.createElement(d.default,{className:_.default.siderMenu,mode:"inline",defaultOpenKeys:l,selectedKeys:u},this.generateMenus(t))}}]),t}(p.PureComponent),r=u))||r,E=y;t.default=E},H1Kz:function(e,t,a){e.exports={primaryLayout:"primaryLayout___UvQ65",sider:"sider___O_mNv",content:"content___2ruHZ",hideSiderMenu:"hideSiderMenu___25fRa"}},Hljc:function(e,t,a){"use strict";var n=a("284h"),l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("qVdP");var r=l(a("jsC+"));a("Pwec");var u=l(a("CtXQ"));a("lUTK");var d=l(a("BvKs")),o=l(a("lwsE")),i=l(a("W8MJ")),s=l(a("a1gu")),c=l(a("Nsbk")),f=l(a("7W2i")),p=n(a("q1tI")),h=(l(a("17x9")),l(a("5DY1"))),m=l(a("NwNc")),g=l(a("MGFk")),v=function(e){function t(){return(0,o.default)(this,t),(0,s.default)(this,(0,c.default)(t).apply(this,arguments))}return(0,f.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=this.props,t=e.userProfile,a=e.onLogout,n=e.hideHeaderSelector,l=e.selectorSilent,o=1===+t.is_super,i=p.default.createElement(d.default,null,p.default.createElement(d.default.Item,{key:"global-header-user-menu-item-manage-product"},p.default.createElement(h.default,{to:"/manage/product"},"\u4ea7\u54c1\u7ba1\u7406")),o&&p.default.createElement(d.default.Item,{key:"global-header-user-menu-item-manage-tracker"},p.default.createElement(h.default,{to:"/manage/tracker"},"\u63a2\u9488\u7ba1\u7406")),p.default.createElement(d.default.Divider,null),p.default.createElement(d.default.Item,{key:"global-header-user-menu-item-user-logout",onClick:a},"\u767b\u51fa"));return p.default.createElement("div",{className:g.default.globalHeader},p.default.createElement(h.default,{to:"/overview"},p.default.createElement("div",{className:"fast-web-brand"})),p.default.createElement(m.default,{hidden:n,silent:l}),p.default.createElement(r.default,{overlay:i,placement:"bottomRight",trigger:["click"]},p.default.createElement("span",{className:g.default.userMenu},p.default.createElement(u.default,{type:"user",style:{fontSize:"18px",paddingRight:"10px"}}),t.name||"\u7528\u6237",p.default.createElement(u.default,{type:"down",style:{paddingLeft:"10px"}}))))}}]),t}(p.PureComponent),_=v;t.default=_},MGFk:function(e,t,a){e.exports={globalHeader:"globalHeader___21MiK",userMenu:"userMenu___1We-g"}},NmTa:function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,u,d,o,i=n(a("lSNA")),s=n(a("lwsE")),c=n(a("W8MJ")),f=n(a("a1gu")),p=n(a("Nsbk")),h=n(a("7W2i")),m=l(a("q1tI")),g=(n(a("17x9")),a("MuoO")),v=n(a("utR0")),_=n(a("u/TQ")),y=n(a("Uq9b")),E=n(a("Hljc")),S=n(a("AcjU")),N=n(a("TSYQ")),L=n(a("H1Kz")),b=(r=(0,_.default)(),u=(0,g.connect)(function(e){var t=e.user,a=e.common;return{userProfile:t.profile,menuData:a.menuData,menus:a.menus,initialLoad:a.initialLoad}}),r(d=(0,v.default)(d=u((o=function(e){function t(){var e,a;(0,s.default)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,f.default)(this,(e=(0,p.default)(t)).call.apply(e,[this].concat(l))),a.handleLogout=function(){a.props.dispatch({type:"user/fetchUserLogout",payload:{noRedirect:!0}})},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"render",value:function(){var e=this.props,t=e.hideHeaderSelector,a=e.hideSiderMenu,n=e.children,l=e.userProfile,r=e.menuData,u=e.menus,d=e.initialLoad,o=e.location,s=o.pathname,c="/manage/product"===s||"/manage/tracker"===s,f=c||d,p=Array.isArray(r)&&r.length>0,h=(0,N.default)(L.default.content,(0,i.default)({},L.default.hideSiderMenu,a));return m.default.createElement("div",{className:L.default.primaryLayout},m.default.createElement(E.default,{hideHeaderSelector:t,selectorSilent:c,userProfile:l,onLogout:this.handleLogout}),!a&&p&&m.default.createElement("div",{className:L.default.sider},m.default.createElement(S.default,{menuData:r,menus:u})),m.default.createElement("div",{className:h},f&&m.default.createElement(y.default,null,n)))}}]),t}(m.PureComponent),d=o))||d)||d)||d),P=b;t.default=P},NwNc:function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("lSNA")),u=n(a("lwsE")),d=n(a("W8MJ")),o=n(a("a1gu")),i=n(a("Nsbk")),s=n(a("7W2i"));a("OaEy");var c,f,p,h=n(a("2fM7")),m=l(a("q1tI")),g=(n(a("17x9")),a("MuoO")),v=n(a("utR0")),_=n(a("TSYQ")),y=n(a("mwIZ")),E=a("XS0u"),S=a("AEAo"),N=n(a("QNCp")),L=h.default.Option,b=(c=(0,g.connect)(function(e){var t=e.common,a=e.loading;return{productList:t.productList,productCode:t.productCode,appList:t.appList,appCode:t.appCode,isSaasApp:t.isSaasApp,tenantCode:t.tenantCode,tenantPage:t.tenantPage,tenantList:t.tenantList,tenantNoNextPage:t.tenantNoNextPage,tenantSearchPage:t.tenantSearchPage,tenantSearchList:t.tenantSearchList,tenantSearchNoNextPage:t.tenantSearchNoNextPage,tenantListLoding:(0,y.default)(a,["effects","common/fetchTenantList"],!1)}}),(0,v.default)(f=c((p=function(e){function t(){var e,a;(0,u.default)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return a=(0,o.default)(this,(e=(0,i.default)(t)).call.apply(e,[this].concat(l))),a.state={tenantSearchKeyword:""},a.searchTimer=0,a.scrollLoading=!1,a.handleChange=function(e,t){"tenantCode"===e&&a.handleDropdownVisibleChange(!1),a.props.dispatch({type:"common/".concat(e),payload:" "===t?"":t})},a.handleDropdownVisibleChange=function(e){e||a.setState({tenantSearchKeyword:""})},a.handleTenantScroll=function(e){var t=a.props,n=t.tenantPage,l=t.tenantNoNextPage,r=t.tenantSearchPage,u=t.tenantSearchNoNextPage,d=n,o=l;a.state.tenantSearchKeyword&&(d=r,o=u),e.target.scrollTop+270>=e.target.scrollHeight&&!a.scrollLoading&&!o&&a._getTenantList(d+1)},a.handleSearchTenant=function(e){clearTimeout(a.searchTimer),a.searchTimer=setTimeout(function(){a.setState({tenantSearchKeyword:e},a._getTenantList)},500)},a}return(0,s.default)(t,e),(0,d.default)(t,[{key:"componentDidMount",value:function(){this._getData()}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this.props.silent;return!(t||!e.silent)}},{key:"componentDidUpdate",value:function(e,t,a){a&&this._getData()}},{key:"render",value:function(){var e=(0,_.default)(N.default.headerSelector,(0,r.default)({},N.default.hidden,this.props.hidden));return m.default.createElement("div",{className:e},this.renderProductSelect(),this.renderAppSelect(),this.renderTenantSelect())}},{key:"renderProductSelect",value:function(){var e=this.props,t=e.productList,a=e.productCode;return m.default.createElement("div",{className:N.default.selectItem},m.default.createElement("span",{className:N.default.selectLabel},"\u4ea7\u54c1\uff1a"),m.default.createElement(h.default,{mode:"single",isRequired:"",value:a||"",placeholder:"\u9009\u62e9\u4ea7\u54c1",notFoundContent:"\u6ca1\u6709\u4ea7\u54c1",optionFilterProp:"children",showSearch:!0,onChange:this.handleChange.bind(this,"productCode"),style:{width:"100%"}},t.map(function(e){return m.default.createElement(L,{key:e.code,title:e.name},e.name)})))}},{key:"renderAppSelect",value:function(){var e=this.props,t=e.productCode,a=e.appList,n=e.appCode;return m.default.createElement("div",{className:N.default.selectItem},m.default.createElement("span",{className:N.default.selectLabel},"\u5e94\u7528\uff1a"),m.default.createElement(h.default,{mode:"single",isRequired:"",value:n||" ",placeholder:"\u9009\u62e9\u5e94\u7528",notFoundContent:"\u6ca1\u6709\u5e94\u7528",optionFilterProp:"children",showSearch:!0,onChange:this.handleChange.bind(this,"appCode"),style:{width:"100%"}},1!==a.length&&m.default.createElement(L,{value:" ",key:"".concat(t,"_all_app_option")},"\u6240\u6709\u5e94\u7528"),a.map(function(e){return m.default.createElement(L,{key:e.code,title:e.name},e.name)})))}},{key:"renderTenantSelect",value:function(){var e=this.props,t=e.isSaasApp,a=e.tenantCode,n=e.tenantListLoding,l=e.tenantList,r=e.tenantSearchList,u=this.state.tenantSearchKeyword;if(!t)return null;var d=u?r:l;return m.default.createElement("div",{className:N.default.selectItem},m.default.createElement("span",{className:N.default.selectLabel},"\u79df\u6237\uff1a"),m.default.createElement(h.default,{mode:"single",isRequired:"",value:a||" ",placeholder:"\u9009\u62e9\u79df\u6237",notFoundContent:"\u6ca1\u6709\u79df\u6237",filterOption:!1,showSearch:!0,onSearch:this.handleSearchTenant,onChange:this.handleChange.bind(this,"tenantCode"),onDropdownVisibleChange:this.handleDropdownVisibleChange,onPopupScroll:this.handleTenantScroll,loading:n,style:{width:"100%"}},!u&&m.default.createElement(L,{value:" ",key:"all_tenant_option"},"\u6240\u6709\u79df\u6237"),d.map(function(e){return m.default.createElement(L,{key:e.tenant_code,title:e.tenant_code},e.tenant_code)})))}},{key:"_getData",value:function(){var e=this.props,t=e.dispatch,a=e.silent,n=e.location;if(!a){var l=(0,y.default)(n,"query.product_code",""),r=(0,y.default)(n,"query.app_code",""),u=(0,y.default)(n,"query.tenant","");l&&(0,E.setValue)(S.STORE_KEY_FOR_PRODUCT_CODE,l),r&&(0,E.setValue)(S.STORE_KEY_FOR_APP_CODE,r),u&&(0,E.setValue)(S.STORE_KEY_FOR_TENANT_CODE,u),t({type:"common/fetchProductList"})}}},{key:"_getTenantList",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,a=this.props,n=a.productCode,l=a.appCode,r=a.dispatch;this.scrollLoading=!0,r({type:"common/fetchTenantList",payload:{productCode:n,appCode:l,page:t,keyword:this.state.tenantSearchKeyword}}).then(function(){e.scrollLoading=!1})}}]),t}(m.PureComponent),f=p))||f)||f),P=b;t.default=P},QNCp:function(e,t,a){e.exports={headerSelector:"headerSelector___3fDVk",hidden:"hidden___3xl-s",selectItem:"selectItem___2O-TI",selectLabel:"selectLabel___3ferP"}},Uq9b:function(e,t,a){"use strict";var n=a("284h"),l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("lwsE")),u=l(a("W8MJ")),d=l(a("a1gu")),o=l(a("Nsbk")),i=l(a("7W2i")),s=n(a("q1tI")),c=function(e){function t(){return(0,r.default)(this,t),(0,d.default)(this,(0,o.default)(t).apply(this,arguments))}return(0,i.default)(t,e),(0,u.default)(t,[{key:"render",value:function(){return s.default.createElement("div",{style:{width:"100%",height:"100%"}},this.props.children)}}]),t}(s.PureComponent),f=c;t.default=f},q4Da:function(e,t,a){e.exports={loginBackground:"loginBackground___2zO1p",login:"login___3JO_8",rightGhost:"rightGhost___1dVzd",right:"right___11djQ",logo:"logo___2QsYH",loginForm:"loginForm___3lSOx",head:"head___WWF7D",title:"title___27He0",des:"des___2ZgO1",submitbtn:"submitbtn___1VsCu"}},"u/TQ":function(e,t,a){"use strict";var n=a("284h"),l=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=l(a("QILm")),u=l(a("lwsE")),d=l(a("W8MJ")),o=l(a("a1gu")),i=l(a("Nsbk")),s=l(a("7W2i")),c=n(a("q1tI")),f=(l(a("17x9")),a("MuoO"));function p(){return function(e){var t,a,n=(t=(0,f.connect)(function(e){var t=e.user;return{userProfile:t.profile}}),t(a=function(t){function a(){return(0,u.default)(this,a),(0,o.default)(this,(0,i.default)(a).apply(this,arguments))}return(0,s.default)(a,t),(0,d.default)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.userProfile;a||t({type:"user/fetchUserProfile"})}},{key:"render",value:function(){var t=this.props,a=t.userProfile,n=(0,r.default)(t,["userProfile"]);return a?c.default.createElement(e,n):null}}]),a}(c.PureComponent))||a);return n}}var h=p;t.default=h},x4zE:function(e,t,a){e.exports={siderMenu:"siderMenu___21Jpr"}}}]);