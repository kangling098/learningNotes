(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{OIhY:function(e,a,t){"use strict";var l=t("TqRt"),n=t("284h");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var i,d,r,o,u=l(t("MVZn")),f=l(t("lwsE")),s=l(t("W8MJ")),c=l(t("a1gu")),m=l(t("Nsbk")),_=l(t("7W2i")),p=n(t("q1tI")),v=l(t("frMp")),y=l(t("O8Rh")),w=t("fqhv"),h=l(t("Kr6O")),E=l(t("1UQL")),g=l(t("IgyS")),M=l(t("ZfYN")),b=l(t("rjEP")),x=l(t("8xof")),D=l(t("EGzU")),O=l(t("0O5e")),T=l(t("J2m7")),P="page_view",V=(0,v.default)({analysisModel:P,noDataStatus:!1,name:"".concat(P,"_day_viewed"),DataModel:w.DayViewedDataModel,contentHeight:"64px"})(b.default),k=(0,v.default)({analysisModel:P,noDataStatus:!1,name:"".concat(P,"_month_viewed"),DataModel:w.MonthViewedDataModel,contentHeight:"64px"})(b.default),R=(i=(0,y.default)(),i((o=r=function(e){function a(){var e,t;(0,f.default)(this,a);for(var l=arguments.length,n=new Array(l),i=0;i<l;i++)n[i]=arguments[i];return t=(0,c.default)(this,(e=(0,m.default)(a)).call.apply(e,[this].concat(n))),t.explandRowRender=function(e,a){var l=[{name:"\u79df\u6237TOP10",key:"tenant_top_10",title:"\u79df\u6237\u9875\u9762\u6d4f\u89c8\u65f6\u957fTOP10"},{name:"\u8d8b\u52bf",key:"trend",title:"\u9875\u9762\u6d4f\u89c8\u8d8b\u52bf"}],n=t.props.isSaasApp,i=a.date_unit,d=a.from_date,r=a.to_date,o=a.order_by,f=a.num_fields,s=a.dim_fields,c=a.appCode,m=a.tenantCode,_=s[0],v={date_unit:i,from_date:d,to_date:r,order_by:o,appCode:c,tenantCode:m,filter:["".concat(_.name,"$eq(").concat(e[_.alias],")")]};if(Array.isArray(o)&&o.length>0){var y=o[0].split("$")[0],h=(0,T.default)(f,function(e){return e.alias===y});h&&(l[0].title="\u79df\u6237".concat(h.alias,"TOP10"),v.extra_num_field=(0,u.default)({},h),v.order_by=[o[0]])}return p.default.createElement(O.default,{analysisModel:P,name:"".concat(P,"_list_detail").concat(e.key),DataModel:w.PageViewExplandDetail,params:v,tabs:!m&&n?l:[l[1]]},p.default.createElement(M.default,{chartHeight:"280px"}))},t}return(0,_.default)(a,e),(0,s.default)(a,[{key:"render",value:function(){var e=this.props,t=e.isHybridApp,l=e.isSaasApp,n=e.tenantCode;return p.default.createElement(h.default,{navTitle:"\u9875\u9762\u6d41\u91cf"},p.default.createElement("div",null,p.default.createElement(E.default,{style:a.STYLES.cardBlock},p.default.createElement(V,{noChart:!0})),p.default.createElement(E.default,{style:a.STYLES.cardBlockLast},p.default.createElement(k,{noChart:!0})),p.default.createElement("div",{style:{clear:"both"}})),p.default.createElement(E.default,{title:"\u9875\u9762\u6d4f\u89c8\u8d8b\u52bf"},p.default.createElement(D.default,{analysisModel:P,name:"".concat(P,"_view_trend_filter"),dataModels:[{name:"".concat(P,"_view_trend"),DataModel:w.PageViewTrend,paginationable:!1,component:p.default.createElement(M.default,null)}]})),p.default.createElement(E.default,{title:"\u6d4f\u89c8\u5730\u533a\u5206\u5e03"},p.default.createElement(D.default,{analysisModel:P,name:"".concat(P,"_regional_filter"),dataModels:[{name:"".concat(P,"_regional"),DataModel:w.MapRegional,paginationable:!1,component:p.default.createElement(x.default,{showRank:5})}]})),p.default.createElement(E.default,{title:t?"\u4f7f\u7528\u5360\u6bd4":"\u6d4f\u89c8\u5668\u4f7f\u7528\u5360\u6bd4"},p.default.createElement(D.default,{analysisModel:P,name:"".concat(P,"_overview_filter"),dataModels:t?a.OVERVIEW_MODELS:[(0,u.default)({},a.OVERVIEW_MODELS[0],{title:"",style:{}})]})),p.default.createElement(E.default,{title:"\u8bbf\u95ee\u91cf\u9875\u9762\u6392\u884c"},p.default.createElement(D.default,{analysisModel:P,name:"".concat(P,"_list_filter"),searchPlaceHolder:"\u8bf7\u8f93\u5165\u9875\u9762\u540d\u79f0",openSearch:!0,disableNoDataStatus:!0,dataModels:[{name:"".concat(P,"_list"),DataModel:w.PageViewList,paginationable:!0,component:p.default.createElement(g.default,{explandRowRender:this.explandRowRender})}]})),l&&!n&&p.default.createElement(E.default,{title:"\u79df\u6237\u9875\u9762\u6d4f\u89c8\u6982\u89c8"},p.default.createElement(D.default,{analysisModel:P,name:"".concat(P,"_tenant_overview_filter"),dataModels:[{name:"".concat(P,"_tenant_overview"),DataModel:w.TenantOverview,paginationable:!1,component:p.default.createElement(M.default,null)}]})))}}]),a}(p.PureComponent),r.OVERVIEW_MODELS=[{name:"".concat(P,"_overview_browser"),title:"\u6d4f\u89c8\u5668",DataModel:w.PageViewOverviewBrowser,paginationable:!1,style:{float:"left",width:"50%"},component:p.default.createElement(M.default,{chartType:"pielike"})},{name:"".concat(P,"_overview_device"),title:"\u79fb\u52a8\u8bbe\u5907\u54c1\u724c",DataModel:w.PageViewOverviewDevice,paginationable:!1,style:{float:"left",width:"50%"},component:p.default.createElement(M.default,{chartType:"pielike"})}],r.STYLES={cardBlock:{padding:"20px 0",width:"calc(50% - 8px)",float:"left",marginRight:"16px"},cardBlockLast:{padding:"20px 0",width:"calc(50% - 8px)",float:"left"}},d=o))||d),S=R;a.default=S},fqhv:function(e,a,t){"use strict";var l=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.TenantOverview=a.PageViewExplandDetail=a.PageViewList=a.MapRegional=a.PageViewOverviewDevice=a.PageViewOverviewBrowser=a.PageViewTrend=a.MonthViewedDataModel=a.DayViewedDataModel=void 0;var n=l(t("MVZn")),i=l(t("RIqP")),d=l(t("QILm")),r=l(t("lwsE")),o=l(t("wd/R")),u=t("Zf/7"),f=l(t("mwIZ")),s={hour:"hour",day:"dt"},c="\u9875\u9762",m="\u4eca\u65e5\u8bbf\u95ee\u91cf",_="\u6708\u8bbf\u95ee\u91cf(\u8fd130\u65e5)",p="\u4f7f\u7528\u5360\u6bd4",v="\u6d4f\u89c8\u5668\u4f7f\u7528\u5360\u6bd4",y="\u8bbe\u5907\u4f7f\u7528\u5360\u6bd4",w="\u6d4f\u89c8\u65f6\u957f\uff08\u79d2\uff09",h="\u6d4f\u89c8\u6b21\u6570",E="\u65f6\u95f4",g="\u79df\u6237",M=function e(){return(0,r.default)(this,e),{from_date:(0,o.default)().format(u.DATE_FORMAT_STRING),to_date:(0,o.default)().format(u.DATE_FORMAT_STRING),date_unit:"day",num_fields:[{alias:m,fomula:"sum",name:"pv"}]}};a.DayViewedDataModel=M;var b=function e(){return(0,r.default)(this,e),{from_date:(0,o.default)().subtract(30,"d").format(u.DATE_FORMAT_STRING),to_date:(0,o.default)().format(u.DATE_FORMAT_STRING),date_unit:"day",num_fields:[{alias:_,fomula:"sum",name:"pv"}]}};a.MonthViewedDataModel=b;var x=function e(a){var t=a.keyword,l=a.date_unit;return(0,r.default)(this,e),{model_type:u.MODE_TYPES.adm,dim_fields:[{alias:E,name:s[l],data_fill:!0}],order_by:["".concat(E,"$asc")],num_fields:[{alias:h,fomula:"sum",name:"pv",type:"line"}],value_axis:[{}],category_axis:{axisLabel:{interval:"auto"}},tooltip:{axisPointer:{type:"line",lineStyle:{color:"#8C9BA5",opacity:.6}}},filter:t?["title$lk(".concat(t,")")]:[]}};a.PageViewTrend=x;var D=function e(a){var t=a.keyword;return(0,r.default)(this,e),{data_limit:8,model_type:u.MODE_TYPES.adm,dim_fields:[{alias:v,name:"browser_name"}],num_fields:[{alias:p,name:"pv",fomula:"sum"}],order_by:["".concat(p,"$desc")],filter:t?["title$lk(".concat(t,")")]:[]}};a.PageViewOverviewBrowser=D;var O=function e(a){var t=a.keyword;return(0,r.default)(this,e),{data_limit:8,model_type:u.MODE_TYPES.adm,dim_fields:[{alias:y,name:"device_manufacturer"}],num_fields:[{alias:p,name:"pv",fomula:"sum"}],order_by:["".concat(p,"$desc")],filter:t?["title$lk(".concat(t,")")]:[]}};a.PageViewOverviewDevice=O;var T=function e(a){var t=a.through_index,l=void 0===t?0:t,n=a.from_date,i=a.to_date,d=a.filter,o=void 0===d?[]:d;(0,r.default)(this,e);var f=[{alias:"\u7701",name:"province"},{alias:"\u5e02",name:"city"}];return{chart_type:"map",max_through_index:1,model_type:u.MODE_TYPES.adm,from_date:n,to_date:i,date_unit:"day",dim_fields:[f[l]],num_fields:[{alias:h,name:"pv",fomula:"sum"}],order_by:["".concat(h,"$desc")],through_index:l,filter:o}};a.MapRegional=T;var P=function e(a){var t=a.keyword;return(0,r.default)(this,e),{page:1,page_size:10,static_sort:"".concat(c,"$asc"),dim_fields:[{alias:c,name:"title"}],num_fields:[{alias:w,name:"avg_page_stay_time",fomula:"max",sortable:!0,axisNameObj:{name:"\u65f6\u957f(s)"}},{alias:h,fomula:"sum",name:"pv",sortable:!0,defaultSort:"desc",axisNameObj:{name:"\u6b21\u6570"}}],filter:t?["title$lk(".concat(t,")")]:[]}};a.PageViewList=P;var V=function e(a,t){var l=a.extra_num_field,o=a.date_unit,u=a.order_by,c=a.filter,m=(0,d.default)(a,["extra_num_field","date_unit","order_by","filter"]);(0,r.default)(this,e);var _={tenant_top_10:{filter:["tenant$isnet()"].concat((0,i.default)(c)),page:1,page_size:10,dim_fields:[{alias:g,name:"tenant"}],num_fields:[{alias:h,name:"pv",fomula:"sum"}],order_by:["".concat(h,"$desc")],chart_type:"barlike_horizon",grid:{left:"10%",right:"10%"},value_axis:[{name:"\u65f6\u957f(s)"}]},trend:{filter:c,dim_fields:[{alias:E,name:s[o],data_fill:!0}],num_fields:[{alias:h,name:"pv",fomula:"sum",type:"line"},{alias:w,name:"avg_page_stay_time",fomula:"max",yAxisIndex:1,type:"line"}],order_by:["".concat(E,"$asc")],chart_type:"barlike",tooltip:{axisPointer:{type:"line",lineStyle:{color:"#8C9BA5",opacity:.6}}},category_axis:{axisLabel:{interval:"auto"}},value_axis:[{name:"\u6d4f\u89c8\u6b21\u6570"},{name:"\u6d4f\u89c8\u65f6\u957f(s)"}]}},p=(0,n.default)({date_unit:o},m,_[t]);if("trend"!==t&&l){p.num_fields=[l],p.order_by=u;var v=(0,f.default)(l,"axisNameObj",(0,f.default)(p,"value_axis[0]",{name:""}));p.value_axis[0]=v}return p};a.PageViewExplandDetail=V;var k=function e(a){var t=a.keyword;return(0,r.default)(this,e),{data_limit:6,dim_fields:[{alias:g,name:"tenant"}],num_fields:[{alias:h,name:"pv",fomula:"sum",type:"bar"}],order_by:["".concat(h,"$desc")],value_axis:[{name:"\u6b21\u6570"}],chart_type:"barlike_horizon",grid:{left:"10%",right:"10%"},filter:t?["tenant$isnet()","title$lk(".concat(t,")")]:["tenant$isnet()"]}};a.TenantOverview=k}}]);