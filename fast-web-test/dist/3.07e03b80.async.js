(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"0N5i":function(e,t,a){e.exports={dataCard:"dataCard___3IhuM"}},"5/5s":function(e,t,a){"use strict";var r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.OverviewTenantUv=t.OverviewTenantPv=t.OverviewNetworkProportion=t.OverviewDeviceProportion=t.OverviewBrowserProportion=t.UserRegional=t.OverviewErrorTrend=t.OverviewPageLoadTimeTrend=t.OverviewUvTotal=t.OverviewUvTrend=t.OverviewPvTrend=void 0;var n=r(a("MVZn")),l=r(a("lwsE")),i=r(a("wd/R")),o=a("zLPB"),d=a("Zf/7"),u=a("9F+s"),s={dim_fields:[{alias:"\u65f6\u95f4",name:"dt",data_fill:!0}],value_axis:[{name:"",splitLine:{show:!1},axisLabel:{show:!1}}],category_axis:{boundaryGap:!1,axisTick:{show:!1,alignWithLabel:!1},axisLine:{show:!1},axisLabel:{show:!1}},grid:{left:"24px",right:"24px",top:"15px",bottom:"20px"},tooltip:{axisPointer:{type:"line",lineStyle:{opacity:0}}},from_date:(0,i.default)().subtract(6,"d").format(d.DATE_FORMAT_STRING),to_date:(0,i.default)().format(d.DATE_FORMAT_STRING),date_unit:"day",order_by:["\u65f6\u95f4$asc"]},f=function(e){return{showSymbol:!1,lineStyle:{color:e},areaStyle:{opacity:1,color:e},itemStyle:{color:e},emphasis:{itemStyle:{color:e}}}},c=function e(){return(0,l.default)(this,e),(0,n.default)({},s,{num_fields:[{alias:"\u8bbf\u95ee\u91cf",fomula:"sum",name:"pv",type:"line",seriesConfig:f("RGBA(47,194,91,0.85)")}]})};t.OverviewPvTrend=c;var v=function e(){return(0,l.default)(this,e),(0,n.default)({},s,{analysisModel:"active_user_device_browser_area",name:"overview_uv_trend_card_chart",model_type:d.MODE_TYPES.fct,num_fields:[{alias:"\u6d3b\u8dc3\u7528\u6237\u6570",fomula:"count",name:"user_id",filter:"uq",type:"line",seriesConfig:f(u.ECHART_COLORS[5])}]})};t.OverviewUvTrend=v;var _=function e(){return(0,l.default)(this,e),{analysisModel:"active_user_device_browser_area",name:"overview_uv_trend_card_total",from_date:(0,i.default)().subtract(6,"d").format(d.DATE_FORMAT_STRING),to_date:(0,i.default)().format(d.DATE_FORMAT_STRING),date_unit:"day",model_type:d.MODE_TYPES.fct,num_fields:[{alias:"\u6d3b\u8dc3\u7528\u6237\u6570",fomula:"count",name:"user_id",filter:"uq"}]}};t.OverviewUvTotal=_;var p=function e(){return(0,l.default)(this,e),(0,n.default)({},s,{model_type:d.MODE_TYPES.fct,num_fields:[{alias:"\u9875\u9762\u5e73\u5747\u52a0\u8f7d\u65f6\u95f4",fomula:"avg",name:"page_load_time",formatter:o.toFix2Formatter,unit:"ms",type:"line",seriesConfig:f(u.ECHART_COLORS[0])}]})};t.OverviewPageLoadTimeTrend=p;var m=function e(){return(0,l.default)(this,e),(0,n.default)({},s,{num_fields:[{alias:"\u5e94\u7528\u5f02\u5e38\u6570",name:"times",fomula:"sum",type:"line",seriesConfig:f(u.ECHART_COLORS[4])}]})};t.OverviewErrorTrend=m;var h=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,l.default)(this,e);var a=t.through_index,r=void 0===a?0:a,n=t.filter,o=void 0===n?[]:n,u=[{alias:"\u7701",name:"province"},{alias:"\u5e02",name:"city"}];return{chart_type:"map",max_through_index:1,model_type:d.MODE_TYPES.fct,from_date:(0,i.default)().subtract(6,"d").format(d.DATE_FORMAT_STRING),to_date:(0,i.default)().format(d.DATE_FORMAT_STRING),date_unit:"day",dim_fields:[u[r]],num_fields:[{alias:"\u6d3b\u8dc3\u7528\u6237\u6570",name:"user_id",filter:"uq",fomula:"count"}],order_by:["\u6d3b\u8dc3\u7528\u6237\u6570$desc"],through_index:r,filter:o}};t.UserRegional=h;var y=function e(){return(0,l.default)(this,e),{data_limit:8,chart_type:"pielike",dim_fields:[{alias:"\u6d4f\u89c8\u5668",name:"browser_name"}],num_fields:[{alias:"\u4f7f\u7528\u5360\u6bd4",name:"pv",fomula:"sum"}],order_by:["\u4f7f\u7528\u5360\u6bd4$desc"]}};t.OverviewBrowserProportion=y;var w=function e(){return(0,l.default)(this,e),{data_limit:8,chart_type:"pielike",dim_fields:[{alias:"\u8bbe\u5907\u54c1\u724c",name:"device_manufacturer"}],num_fields:[{alias:"\u4f7f\u7528\u5360\u6bd4",name:"pv",fomula:"sum"}],order_by:["\u4f7f\u7528\u5360\u6bd4$desc"]}};t.OverviewDeviceProportion=w;var g=function e(){return(0,l.default)(this,e),{data_limit:8,chart_type:"pielike",dim_fields:[{alias:"\u7f51\u7edc",name:"network"}],num_fields:[{alias:"\u4f7f\u7528\u5360\u6bd4",name:"pv",fomula:"sum"}],order_by:["\u4f7f\u7528\u5360\u6bd4$desc"]}};t.OverviewNetworkProportion=g;var E=function e(){return(0,l.default)(this,e),{filter:["tenant$isnet()"],data_limit:6,chart_type:"barlike_horizon",grid:{left:"5%",right:"5%"},value_axis:[{name:""}],dim_fields:[{alias:"\u79df\u6237",name:"tenant"}],num_fields:[{alias:"\u6d4f\u89c8\u91cf",name:"pv",fomula:"sum"}],order_by:["\u6d4f\u89c8\u91cf$desc"]}};t.OverviewTenantPv=E;var O=function e(){return(0,l.default)(this,e),{filter:["tenant$isnet()"],data_limit:6,chart_type:"barlike_horizon",grid:{left:"5%",right:"5%"},value_axis:[{name:""}],model_type:d.MODE_TYPES.fct,dim_fields:[{alias:"\u79df\u6237",name:"tenant"}],num_fields:[{alias:"\u6d3b\u8dc3\u7528\u6237",name:"user_id",fomula:"count",filter:"uq"}],order_by:["\u6d3b\u8dc3\u7528\u6237$desc"]}};t.OverviewTenantUv=O},Kz7D:function(e,t,a){"use strict";var r=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("T2oS");var l,i,o,d,u=r(a("W9HT")),s=r(a("MVZn")),f=r(a("lwsE")),c=r(a("W8MJ")),v=r(a("a1gu")),_=r(a("Nsbk")),p=r(a("7W2i")),m=n(a("q1tI")),h=(r(a("17x9")),a("MuoO")),y=r(a("ZfYN")),w=r(a("QvT+")),g=r(a("mwIZ")),E=r(a("Y+p1")),O=a("LvDl"),T=a("zLPB"),M=r(a("0N5i")),S=(l=(0,h.connect)(function(e){var t=e.analysis,a=e.common;return{productCode:a.productCode,appCode:a.appCode,tenantCode:a.tenantCode,data:t.data}}),l((d=o=function(e){function t(){var e,a;(0,f.default)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return a=(0,v.default)(this,(e=(0,_.default)(t)).call.apply(e,[this].concat(n))),a.state={cardModel:null,chartModel:null,cardLoading:!1,chartLoading:!1},a.renderTotal=function(e){var t=a.props.cardHeight;if(!e)return m.default.createElement("div",{style:{position:"relative",height:t}});var r=(0,O.isObject)(e)?e:{},n=r.data,l=void 0===n?[]:n,i=r.num_fields,o=void 0===i?[]:i,d=o.filter(function(e){return!e.hidden}),u=d[0],s=(0,g.default)(l,[0,u.alias],0);"function"===typeof u.formatter&&(s=u.formatter(s));var f=u.unit||"";return m.default.createElement(w.default,{title:u.alias,value:s,suffix:f})},a.renderChart=function(e){var t=a.props.chartHeight;return e?m.default.createElement(y.default,{analysisData:e,chartHeight:t}):m.default.createElement("div",{style:{position:"relative",height:t}})},a._getData=function(){var e=a.props,t=e.dispatch,r=e.productCode,n=e.appCode,l=e.tenantCode,i=a.state,o=i.cardModel,d=i.chartModel;if(o||d){var u={productCode:r,appCode:n,tenantCode:l};o&&o.analysisModel&&(a.setState({cardLoading:!0}),t({type:"analysis/fetchAnalysisData",payload:(0,s.default)({},u,o)}).then(function(){a.setState({cardLoading:!1})})),d&&d.analysisModel&&(a.setState({chartLoading:!0}),t({type:"analysis/fetchAnalysisData",payload:(0,s.default)({},u,d)}).then(function(){a.setState({chartLoading:!1})}))}},a._getAnalysisData=function(e){if(!e)return null;var t=a.props,r=t.productCode,n=t.appCode,l=t.tenantCode,i=t.data,o=(0,T.getSignatureString)({productCode:r,appCode:n,tenantCode:l,name:e});return(0,g.default)(i,o,null)},a}return(0,p.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){this._getData()}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this.props,a=t.productCode,r=t.appCode,n=t.tenantCode;return a!==e.productCode||r!==e.appCode||n!==e.tenantCode}},{key:"componentDidUpdate",value:function(e,t,a){a&&this._getData()}},{key:"render",value:function(){var e=this.props.style,t=this.state,a=t.cardModel,r=t.chartModel,n=t.cardLoading,l=t.chartLoading,i=n||l,o=a?this._getAnalysisData(a.name):null,d=r?this._getAnalysisData(r.name):null;return m.default.createElement(u.default,{spinning:i},m.default.createElement("div",{className:M.default.dataCard,style:e},a&&this.renderTotal(o),r&&this.renderChart(d)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.CardModel,r=e.ChartModel,n=null,l="function"===typeof a?new a:null,i="function"===typeof r?new r:null;return l&&!(0,E.default)(l,t.cardModel)&&(n={cardModel:l}),i&&!(0,E.default)(l,t.cardModel)&&(n=(0,s.default)({},n,{chartModel:i})),n}}]),t}(m.PureComponent),o.defaultProps={style:{}},i=d))||i),D=S;t.default=D},zG6y:function(e,t,a){"use strict";var r=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l,i,o,d,u=r(a("MVZn")),s=r(a("lwsE")),f=r(a("W8MJ")),c=r(a("a1gu")),v=r(a("Nsbk")),_=r(a("7W2i")),p=n(a("q1tI")),m=r(a("frMp")),h=r(a("O8Rh")),y=a("5/5s"),w=r(a("Kr6O")),g=r(a("1UQL")),E=r(a("ZfYN")),O=r(a("rjEP")),T=r(a("8xof")),M=r(a("Kz7D")),S=r(a("EGzU")),D=(0,m.default)({analysisModel:"page_view",noDataStatus:!1,name:"overview_pv_trend_card",DataModel:y.OverviewPvTrend,contentHeight:"126px"})(O.default),C=(0,m.default)({analysisModel:"page_load",noDataStatus:!1,name:"overview_page_load_time_trend_card",DataModel:y.OverviewPageLoadTimeTrend,contentHeight:"126px"})(O.default),b=(0,m.default)({analysisModel:"error_crash",noDataStatus:!1,name:"overview_error_trend_card",DataModel:y.OverviewErrorTrend,contentHeight:"126px"})(O.default),x=(0,m.default)({analysisModel:"active_user_device_browser_area",name:"overview_user_regional_map_loader",DataModel:y.UserRegional,contentHeight:"448px",contentStyle:{padding:"24px 0"}})(T.default),P=(l=(0,h.default)(),l((d=o=function(e){function t(){return(0,s.default)(this,t),(0,c.default)(this,(0,v.default)(t).apply(this,arguments))}return(0,_.default)(t,e),(0,f.default)(t,[{key:"render",value:function(){var e=this.props,a=e.isHybridApp,r=e.isSaasApp,n=e.tenantCode,l={dateMode:"far7"};return p.default.createElement(w.default,{navTitle:"\u6570\u636e\u6982\u89c8",subTitle:"\uff08\u8fd1\u4e03\u5929\u6570\u636e\uff09"},p.default.createElement("div",null,p.default.createElement(g.default,{style:t.STYLES.cardBlock},p.default.createElement(D,null)),p.default.createElement(g.default,{style:t.STYLES.cardBlock},p.default.createElement(M.default,{ChartModel:y.OverviewUvTrend,CardModel:y.OverviewUvTotal,cardHeight:"64px",chartHeight:"62px",style:{height:"126px"}})),p.default.createElement(g.default,{style:t.STYLES.cardBlock},p.default.createElement(C,null)),p.default.createElement(g.default,{style:t.STYLES.cardBlockLast},p.default.createElement(b,null)),p.default.createElement("div",{style:{clear:"both"}})),p.default.createElement(g.default,{title:"\u6d3b\u8dc3\u7528\u6237\u5730\u533a\u5206\u5e03"},p.default.createElement(x,{showRank:5})),p.default.createElement(g.default,{title:a?"\u4f7f\u7528\u5360\u6bd4":"\u6d4f\u89c8\u5668\u4f7f\u7528\u5360\u6bd4"},p.default.createElement(S.default,{analysisModel:"page_view",name:"overview_browser_device_network_proportion_filter",staticDate:l,dataModels:a?t.OVERVIEW_USING_PROPORTION_MODELS:[(0,u.default)({},t.OVERVIEW_USING_PROPORTION_MODELS[0],{title:"",style:{}})]})),r&&!n&&p.default.createElement(g.default,{title:"\u79df\u6237\u4f7f\u7528\u6982\u89c8"},p.default.createElement(S.default,{name:"overview_tenant_using_filter",staticDate:l,dataModels:t.OVERVIEW_TENANT_USING_MODELS})))}}]),t}(p.PureComponent),o.OVERVIEW_USING_PROPORTION_MODELS=[{name:"overview_browser_proportion",title:"\u6d4f\u89c8\u5668",DataModel:y.OverviewBrowserProportion,paginationable:!1,style:{float:"left",width:"33.2%"},component:p.default.createElement(E.default,{chartHeight:"300px"})},{name:"overview_device_proportion",title:"\u79fb\u52a8\u8bbe\u5907\u54c1\u724c",DataModel:y.OverviewDeviceProportion,paginationable:!1,style:{float:"left",width:"33.2%"},component:p.default.createElement(E.default,{chartHeight:"300px"})},{name:"overview_network_proportion",title:"\u7f51\u7edc\u7c7b\u578b",DataModel:y.OverviewNetworkProportion,paginationable:!1,style:{float:"left",width:"33.2%"},component:p.default.createElement(E.default,{chartHeight:"300px"})}],o.OVERVIEW_TENANT_USING_MODELS=[{analysisModel:"page_view",name:"overview_tenant_using_pv",DataModel:y.OverviewTenantPv,paginationable:!1,title:"\u8bbf\u95ee\u91cf",style:{float:"left",width:"50%"},component:p.default.createElement(E.default,{chartHeight:"300px"})},{analysisModel:"active_user_device_browser_area",name:"overview_tenant_using_uv",DataModel:y.OverviewTenantUv,paginationable:!1,title:"\u6d3b\u8dc3\u7528\u6237",style:{float:"left",width:"50%"},component:p.default.createElement(E.default,{chartHeight:"300px"})}],o.STYLES={cardBlock:{padding:"20px 0 0",width:"calc(25% - 12px)",float:"left",marginRight:"16px"},cardBlockLast:{padding:"20px 0 0",width:"calc(25% - 12px)",float:"left"}},i=d))||i),R=P;t.default=R}}]);