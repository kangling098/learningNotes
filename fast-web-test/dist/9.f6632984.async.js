(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{MFkv:function(e,a,t){"use strict";var l=t("TqRt"),n=t("284h");Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o,r,i,d=l(t("MVZn")),m=l(t("lwsE")),s=l(t("W8MJ")),c=l(t("a1gu")),u=l(t("Nsbk")),f=l(t("7W2i")),_=n(t("q1tI")),p=l(t("O8Rh")),y=t("dNZs"),g=l(t("Kr6O")),x=l(t("1UQL")),b=l(t("IgyS")),v=l(t("ZfYN")),h=l(t("EGzU")),P=l(t("0O5e")),E=l(t("J2m7")),F="page_load",L=(o=(0,p.default)(),o((i=function(e){function a(){var e,t;(0,m.default)(this,a);for(var l=arguments.length,n=new Array(l),o=0;o<l;o++)n[o]=arguments[o];return t=(0,c.default)(this,(e=(0,u.default)(a)).call.apply(e,[this].concat(n))),t.explandRowRender=function(e,a){var l=[{name:"\u79df\u6237TOP10",key:"tenant_top_10",title:"\u79df\u6237\u9875\u9762\u52a0\u8f7d\u65f6\u957fTOP10"},{name:"\u8d8b\u52bf",key:"trend",title:"\u9875\u9762\u52a0\u8f7d\u65f6\u957f\u8d8b\u52bf"}],n=t.props.isSaasApp,o=a.date_unit,r=a.from_date,i=a.to_date,m=a.order_by,s=a.num_fields,c=a.dim_fields,u=a.tenantCode,f=c[0],p={date_unit:o,from_date:r,to_date:i,order_by:m,filter:["".concat(f.name,"$eq(").concat(e[f.alias],")")]};if(Array.isArray(m)&&m.length>0){var g=m[0].split("$")[0],x=(0,E.default)(s,function(e){return e.alias===g});x&&(l[0].title="\u79df\u6237".concat(x.alias,"TOP10"),p.extra_num_field=(0,d.default)({},x),p.order_by=[m[0]])}return _.default.createElement(P.default,{name:"".concat(F,"_list_detail_").concat(e.key),analysisModel:F,DataModel:y.PageLoadExplandDetail,params:p,tabPreferKey:"".concat(F,"::tab-prefer"),tabs:n&&!u?l:[l[1]]},_.default.createElement(v.default,{chartHeight:"280px"}))},t}return(0,f.default)(a,e),(0,s.default)(a,[{key:"render",value:function(){return _.default.createElement(g.default,{navTitle:"\u9875\u9762\u52a0\u8f7d\u65f6\u95f4",thresholdModel:F},_.default.createElement(x.default,{title:"\u9875\u9762\u52a0\u8f7d\u65f6\u957fTOP10"},_.default.createElement(h.default,{analysisModel:F,name:"".concat(F,"_top_10_filter"),dataModels:[{name:"".concat(F,"_top_10"),DataModel:y.PageLoadTop10,paginationable:!1,component:_.default.createElement(v.default,null)}],extraParams:y.PageLoadTop10Sorts})),_.default.createElement(x.default,{title:"\u9875\u9762\u52a0\u8f7d\u65f6\u957f\u5217\u8868"},_.default.createElement(h.default,{analysisModel:F,name:"".concat(F,"_list_filter"),searchPlaceHolder:"\u8bf7\u8f93\u5165\u9875\u9762\u540d\u79f0",openSearch:!0,disableNoDataStatus:!0,dataModels:[{name:"".concat(F,"_list"),DataModel:y.PageLoadList,paginationable:!0,component:_.default.createElement(b.default,{explandRowRender:this.explandRowRender})}]})))}}]),a}(_.PureComponent),r=i))||r),O=L;a.default=O},dNZs:function(e,a,t){"use strict";var l=t("TqRt");Object.defineProperty(a,"__esModule",{value:!0}),a.PageLoadExplandDetail=a.PageLoadList=a.PageLoadTop10=a.PageLoadTop10Sorts=void 0;var n=l(t("q1tI")),o=l(t("MVZn")),r=l(t("RIqP")),i=l(t("QILm"));t("Pwec");var d=l(t("CtXQ")),m=l(t("lwsE")),s=t("zLPB"),c=t("Zf/7"),u=l(t("mwIZ")),f={hour:"event_time_hour",day:"event_date"},_="\u79df\u6237",p="\u65f6\u95f4",y="\u9875\u9762",g="\u8d85\u8fc7\u9608\u503c\u52a0\u8f7d\u6b21\u6570\u5360\u6bd4",x="\u8d85\u8fc7\u9608\u503c\u52a0\u8f7d\u6b21\u6570",b="\u52a0\u8f7d\u6b21\u6570",v="\u5e73\u5747\u54cd\u5e94\u65f6\u95f4(ms)",h="P90\u54cd\u5e94\u65f6\u95f4(ms)",P="P80\u54cd\u5e94\u65f6\u95f4(ms)",E=[{key:"order_by",text:"\u6309\u7167".concat(v,"\u6392\u5e8f"),data:["".concat(v,"$desc")]},{key:"order_by",text:"\u6309\u7167".concat(b,"\u6392\u5e8f"),data:["".concat(b,"$desc")]},{key:"order_by",text:"\u6309\u7167".concat(g,"\u6392\u5e8f"),data:["".concat(g,"$desc")]},{key:"order_by",text:"\u6309\u7167".concat(x,"\u6392\u5e8f"),data:["".concat(x,"$desc")]}];a.PageLoadTop10Sorts=E;var F=function e(a){var t=a.threshold;return(0,m.default)(this,e),t="number"!==typeof t?3e3:t,{page:1,page_size:10,model_type:t?c.MODE_TYPES.fct:c.MODE_TYPES.adm,value_axis:[{name:"\u65f6\u957f(ms)"},{name:"\u6b21\u6570",splitLine:{show:!1}}],dim_fields:[{alias:y,name:"title"}],num_fields:[{alias:g,operator:"/",fomula:"count",name:"page_load_time",filter:"ge(".concat(t,")"),sub_name:"1",sub_fomula:"count",sub_trans:"numeric",hidden:!0},{alias:v,fomula:"avg",name:"page_load_time",formatter:s.toFix2Formatter},{alias:b,fomula:"count",name:"1",yAxisIndex:1},{alias:x,fomula:"count",name:"page_load_time",filter:"ge(".concat(t,")"),yAxisIndex:1}]}};a.PageLoadTop10=F;var L=function e(a){var t=a.keyword,l=a.threshold;(0,m.default)(this,e),l="number"!==typeof l?3e3:l;var o=t?["title$lk(".concat(t,")")]:[];return{filter:o,page:1,page_size:10,model_type:l?c.MODE_TYPES.fct:c.MODE_TYPES.adm,static_sort:"".concat(y,"$asc"),dim_fields:[{alias:y,name:"title"}],num_fields:[{alias:x,fomula:"count",name:"page_load_time",filter:"ge(".concat(l,")"),sortable:!0,defaultSort:"desc",axisNameObj:{name:"\u6b21\u6570"}},{alias:g,operator:"/",fomula:"count",name:"page_load_time",filter:"ge(".concat(l,")"),sub_name:"1",sub_fomula:"count",sub_trans:"numeric",sortable:!0,formatter:s.percentFormatter,axisNameObj:{name:""}},{alias:b,fomula:"count",name:"1",sortable:!0,axisNameObj:{name:"\u6b21\u6570"}},{alias:v,fomula:"avg",name:"page_load_time",sortable:!0,formatter:s.toFix2Formatter,axisNameObj:{name:"\u65f6\u957f(ms)"}},{alias:P,fomula:"percentile_cont",name:"page_load_time",filter:"apc(0.8)",sortable:!0,axisNameObj:{name:"\u65f6\u957f(ms)"},render:function(e){return e<l?(0,s.toFix2Formatter)(e):n.default.createElement("div",{style:{color:"#F5222D"}},n.default.createElement(d.default,{type:"warning",style:{marginRight:"12px"},theme:"filled"}),(0,s.toFix2Formatter)(e))}},{alias:h,fomula:"percentile_cont",name:"page_load_time",filter:"apc(0.9)",sortable:!0,axisNameObj:{name:"\u65f6\u957f(ms)"},render:function(e){return e<l?(0,s.toFix2Formatter)(e):n.default.createElement("div",{style:{color:"#F5222D"}},n.default.createElement(d.default,{type:"warning",style:{marginRight:"12px"},theme:"filled"}),(0,s.toFix2Formatter)(e))}}]}};a.PageLoadList=L;var O=function e(a,t){var l=a.extra_num_field,n=a.date_unit,d=a.order_by,y=a.filter,g=(0,i.default)(a,["extra_num_field","date_unit","order_by","filter"]);(0,m.default)(this,e);var x={tenant_top_10:{page:1,page_size:10,filter:["tenant$isnet()"].concat((0,r.default)(y)),chart_type:"barlike_horizon",grid:{left:"10%",right:"10%"},dim_fields:[{alias:_,name:"tenant"}],num_fields:[{alias:v,fomula:"avg",name:"page_load_time"}],order_by:["".concat(v,"$desc")],value_axis:[{name:"\u65f6\u957f(ms)"}]},trend:{filter:y,dim_fields:[{alias:p,name:f[n],data_fill:!0}],num_fields:[{alias:v,fomula:"avg",name:"page_load_time",type:"line",formatter:s.toFix2Formatter},{alias:P,fomula:"percentile_cont",name:"page_load_time",filter:"apc(0.8)",formatter:s.toFix2Formatter,type:"line"},{alias:h,fomula:"percentile_cont",name:"page_load_time",filter:"apc(0.9)",formatter:s.toFix2Formatter,type:"line"},{alias:b,fomula:"count",name:"1",yAxisIndex:1,type:"line"}],order_by:["".concat(p,"$asc")],tooltip:{axisPointer:{type:"line",lineStyle:{color:"#8C9BA5",opacity:.6}}},value_axis:[{name:"\u65f6\u957f(ms)"},{name:"\u6b21\u6570",splitLine:{show:!1}}],category_axis:{axisLabel:{interval:"auto"}}}},E=(0,o.default)({model_type:c.MODE_TYPES.fct,date_unit:n},g,x[t]);if("trend"!==t&&l){E.num_fields=[l],E.order_by=d;var F=(0,u.default)(l,"axisNameObj",(0,u.default)(E,"value_axis[0]",{name:""}));E.value_axis[0]=F}return E};a.PageLoadExplandDetail=O}}]);