(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[8],{HakN:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.CustomEventExplandDetail=t.CustomEventList=void 0;var l=n(a("MVZn")),i=n(a("RIqP")),r=n(a("QILm")),d=n(a("lwsE")),o=a("Zf/7"),u=n(a("mwIZ")),s={hour:"event_time_hour",day:"dt"},f="\u4e8b\u4ef6\u540d\u79f0",c="\u89e6\u53d1\u6b21\u6570",_="\u89e6\u53d1\u4eba\u6570",m="\u65f6\u95f4",p="\u79df\u6237",v=function e(t){var a=t.keyword;(0,d.default)(this,e);var n=a?["event$lk(".concat(a,")")]:[];return{page:1,page_size:10,model_type:o.MODE_TYPES.fct,static_sort:"".concat(f,"$asc"),dim_fields:[{alias:f,name:"event"}],num_fields:[{alias:c,name:"1",fomula:"count",sortable:!0,defaultSort:"desc",axisNameObj:{name:"\u6b21\u6570"}},{alias:_,name:"user_id",fomula:"count",filter:"uq",sortable:!0,axisNameObj:{name:"\u4eba\u6570"}}],filter:n}};t.CustomEventList=v;var y=function e(t,a){var n=t.extra_num_field,f=t.date_unit,v=t.order_by,y=t.filter,b=(0,r.default)(t,["extra_num_field","date_unit","order_by","filter"]);(0,d.default)(this,e);var x={tenant_top_10:{page:1,page_size:10,filter:["tenant$isnet()"].concat((0,i.default)(y)),dim_fields:[{alias:p,name:"tenant"}],num_fields:[{alias:c,name:"1",fomula:"count"}],order_by:["".concat(c,"$desc")],chart_type:"barlike_horizon",grid:{left:"10%",right:"10%"},value_axis:[{}]},trend:{filter:y,dim_fields:[{alias:m,name:s[f],data_fill:!0}],chart_type:"barlike",num_fields:[{alias:c,name:"1",fomula:"count",type:"line"},{alias:_,name:"user_id",fomula:"count",filter:"uq",yAxisIndex:1,type:"line"}],order_by:["".concat(m,"$asc")],tooltip:{axisPointer:{type:"line",lineStyle:{color:"#8C9BA5",opacity:.6}}},category_axis:{axisLabel:{interval:"auto"}},value_axis:[{name:"\u89e6\u53d1\u6b21\u6570"},{name:"\u89e6\u53d1\u4eba\u6570"}]}},E=(0,l.default)({model_type:o.MODE_TYPES.fct,date_unit:f},b,x[a]);if("trend"!==a&&n){E.num_fields=[n],E.order_by=v;var h=(0,u.default)(n,"axisNameObj",(0,u.default)(E,"value_axis[0]",{name:""}));E.value_axis[0]=h}return E};t.CustomEventExplandDetail=y},QsBk:function(e,t,a){"use strict";var n=a("TqRt"),l=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i,r,d,o=n(a("MVZn")),u=n(a("lwsE")),s=n(a("W8MJ")),f=n(a("a1gu")),c=n(a("Nsbk")),_=n(a("7W2i")),m=l(a("q1tI")),p=n(a("O8Rh")),v=a("HakN"),y=n(a("Kr6O")),b=n(a("1UQL")),x=n(a("IgyS")),E=n(a("ZfYN")),h=n(a("EGzU")),k=n(a("0O5e")),w=n(a("J2m7")),g="event_defined",O=(i=(0,p.default)(),i((d=function(e){function t(){var e,a;(0,u.default)(this,t);for(var n=arguments.length,l=new Array(n),i=0;i<n;i++)l[i]=arguments[i];return a=(0,f.default)(this,(e=(0,c.default)(t)).call.apply(e,[this].concat(l))),a.explandRowRender=function(e,t){var n=[{name:"\u79df\u6237TOP10",key:"tenant_top_10",title:"\u79df\u6237\u89e6\u53d1\u6b21\u6570TOP10"},{name:"\u8d8b\u52bf",key:"trend",title:"\u79df\u6237\u89e6\u53d1\u8d8b\u52bf"}],l=a.props.isSaasApp,i=t.date_unit,r=t.from_date,d=t.to_date,u=t.order_by,s=t.num_fields,f=t.dim_fields,c=t.appCode,_=t.tenantCode,p=f[0],y={date_unit:i,from_date:r,to_date:d,order_by:u,appCode:c,tenantCode:_,filter:["".concat(p.name,"$eq(").concat(e[p.alias],")")]};if(Array.isArray(u)&&u.length>0){var b=u[0].split("$")[0],x=(0,w.default)(s,function(e){return e.alias===b});x&&(n[0].title="\u79df\u6237".concat(x.alias,"TOP10"),y.extra_num_field=(0,o.default)({},x),y.order_by=[u[0]])}return m.default.createElement(k.default,{analysisModel:g,name:"".concat(g,"_list_detail").concat(e.key),DataModel:v.CustomEventExplandDetail,params:y,tabs:!_&&l?n:[n[1]]},m.default.createElement(E.default,{chartHeight:"280px"}))},a}return(0,_.default)(t,e),(0,s.default)(t,[{key:"render",value:function(){return m.default.createElement(y.default,{navTitle:"\u5173\u952e\u4e8b\u4ef6"},m.default.createElement(b.default,{title:"\u5173\u952e\u4e8b\u4ef6\u5217\u8868"},m.default.createElement(h.default,{analysisModel:g,name:"".concat(g,"_list_filter"),searchPlaceHolder:"\u8bf7\u8f93\u5165\u4e8b\u4ef6\u540d\u79f0",openSearch:!0,disableNoDataStatus:!0,dataModels:[{name:"".concat(g,"_list"),DataModel:v.CustomEventList,paginationable:!0,component:m.default.createElement(x.default,{explandRowRender:this.explandRowRender})}]})))}}]),t}(m.PureComponent),r=d))||r),C=O;t.default=C}}]);