(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0mRO":function(e,t,a){"use strict";var r=a("TqRt"),i=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,l,n,o,u=r(a("MVZn")),c=r(a("lwsE")),_=r(a("W8MJ")),s=r(a("a1gu")),f=r(a("Nsbk")),v=r(a("7W2i")),m=i(a("q1tI")),p=a("MuoO"),y=r(a("frMp")),E=r(a("O8Rh")),h=a("U3U7"),M=r(a("Kr6O")),w=r(a("1UQL")),T=r(a("ZfYN")),b=r(a("rjEP")),D=r(a("QvT+")),O=r(a("8xof")),S=r(a("EGzU")),g=a("zLPB"),A=r(a("mwIZ")),R=a("Zf/7"),x="active_user",C=(0,y.default)({analysisModel:x,noDataStatus:!1,name:"".concat(x,"_day_card"),DataModel:h.DayActiveDataModel,contentHeight:"64px"})(b.default),I=(0,y.default)({analysisModel:"active_user_device_browser_area",noDataStatus:!1,model_type:R.MODE_TYPES.fct,name:"".concat(x,"_month_card"),DataModel:h.MonthActiveDataModel,contentHeight:"64px"})(b.default);function N(e){var t=e.common,a=e.analysis,r=(0,A.default)(a,["data",(0,g.getSignatureString)({name:"".concat(x,"_day_card"),productCode:t.productCode,appCode:t.appCode,tenantCode:t.tenantCode}),"data","0","\u4eca\u65e5\u6d3b\u8dc3\u7528\u6237"],0),i=(0,A.default)(a,["data",(0,g.getSignatureString)({name:"".concat(x,"_month_card"),productCode:t.productCode,appCode:t.appCode,tenantCode:t.tenantCode}),"data","0","\u6708\u6d3b\u8dc3\u7528\u6237(\u8fd130\u5929)"],1),d="";return d=Number.isNaN(Number(r))||Number.isNaN(Number(i))?"0%":(0,g.percentFormatter)(Number(r)/Number(i)),{value:d,title:"\u7528\u6237\u7c98\u5ea6"}}var U=function(e){var t=e.title,a=e.value;return m.default.createElement(D.default,{title:t,value:a})},P=(0,p.connect)(function(e){return N(e)})(U),k=(d=(0,E.default)(),d((o=n=function(e){function t(){return(0,c.default)(this,t),(0,s.default)(this,(0,f.default)(t).apply(this,arguments))}return(0,v.default)(t,e),(0,_.default)(t,[{key:"render",value:function(){var e=this.props,a=e.isHybridApp,r=e.isSaasApp,i=e.tenantCode;return m.default.createElement(M.default,{navTitle:"\u6d3b\u8dc3\u7528\u6237",openUserIdentityType:!0},m.default.createElement("div",null,m.default.createElement(w.default,{style:t.STYLES.cardBlock},m.default.createElement(C,{noChart:!0})),m.default.createElement(w.default,{style:t.STYLES.cardBlock},m.default.createElement(I,{noChart:!0})),m.default.createElement(w.default,{style:t.STYLES.cardBlockLast},m.default.createElement(P,null)),m.default.createElement("div",{style:{clear:"both"}})),m.default.createElement(w.default,{title:"\u6d3b\u8dc3\u7528\u6237\u8d8b\u52bf"},m.default.createElement(S.default,{analysisModel:x,name:"".concat(x,"_trend_filter"),dataModels:[{name:"".concat(x,"_trend"),DataModel:h.ActiveUserTrend,paginationable:!1,component:m.default.createElement(T.default,{chartHeight:"280px"})}]})),m.default.createElement(w.default,{title:"\u6d3b\u8dc3\u7528\u6237\u5730\u533a\u5206\u5e03"},m.default.createElement(S.default,{analysisModel:"active_user_device_browser_area",name:"active_user_device_browser_area".concat("_regional_filter"),dataModels:[{name:"active_user_device_browser_area".concat("_regional"),DataModel:h.MapRegional,paginationable:!1,component:m.default.createElement(O.default,{showRank:5})}]})),m.default.createElement(w.default,{title:a?"\u4f7f\u7528\u5360\u6bd4":"\u6d4f\u89c8\u5668\u4f7f\u7528\u5360\u6bd4"},m.default.createElement(S.default,{analysisModel:"active_user_device_browser_area",name:"active_user_device_browser_area".concat("_overview_filter"),dataModels:a?t.OVERVIEW_MODELS:[(0,u.default)({},t.OVERVIEW_MODELS[0],{title:"",style:{}})]})),r&&!i&&m.default.createElement(w.default,{title:"\u79df\u6237\u6d3b\u8dc3\u7528\u6237\u6982\u89c8"},m.default.createElement(S.default,{analysisModel:"active_user_device_browser_area",name:"active_user_device_browser_area".concat("_tenant_overview_filter"),dataModels:[{name:"active_user_device_browser_area".concat("_tenant_overview"),DataModel:h.TenantOverview,paginationable:!1,component:m.default.createElement(T.default,null)}]})))}}]),t}(m.PureComponent),n.OVERVIEW_MODELS=[{name:"active_user_device_browser".concat("_overview_browser"),title:"\u6d4f\u89c8\u5668",DataModel:h.ActiveUserOverviewBrowser,paginationable:!1,style:{float:"left",width:"50%"},component:m.default.createElement(T.default,{chartType:"pielike"})},{name:"active_user_device_browser".concat("_overview_device"),title:"\u79fb\u52a8\u8bbe\u5907\u54c1\u724c",DataModel:h.ActiveUserOverviewDevice,paginationable:!1,style:{float:"left",width:"50%"},component:m.default.createElement(T.default,{chartType:"pielike"})}],n.STYLES={cardBlock:{padding:"20px 0",width:"calc(33% - 12px)",float:"left",marginRight:"16px"},cardBlockLast:{padding:"20px 0",width:"calc(34% - 10px)",float:"left"}},l=o))||l),Y=k;t.default=Y},U3U7:function(e,t,a){"use strict";var r=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.TenantOverview=t.ActiveUserOverviewDevice=t.ActiveUserOverviewBrowser=t.MapRegional=t.ActiveUserTrend=t.MonthActiveDataModel=t.DayActiveDataModel=void 0;var i=r(a("lwsE")),d=r(a("wd/R")),l=a("Zf/7"),n={hour:"hour",day:"dt"},o={user_id:"user_id",real_user_id:"real_user_id"},u={user_id:"active_user_num",real_user_id:"active_real_user_num"},c="\u6d3b\u8dc3\u7528\u6237",_="\u4eca\u65e5\u6d3b\u8dc3\u7528\u6237",s="\u6708\u6d3b\u8dc3\u7528\u6237(\u8fd130\u5929)",f="\u6d4f\u89c8\u5668",v="\u8bbe\u5907\u54c1\u724c",m="\u65f6\u95f4",p="\u79df\u6237",y=function e(t){var a=t.userIdentityType,r=void 0===a?"user_id":a;return(0,i.default)(this,e),{from_date:(0,d.default)().format(l.DATE_FORMAT_STRING),to_date:(0,d.default)().format(l.DATE_FORMAT_STRING),date_unit:"day",num_fields:[{alias:_,name:u[r]}]}};t.DayActiveDataModel=y;var E=function e(t){var a=t.userIdentityType,r=void 0===a?"user_id":a;return(0,i.default)(this,e),{model_type:l.MODE_TYPES.fct,from_date:(0,d.default)().subtract(30,"d").format(l.DATE_FORMAT_STRING),to_date:(0,d.default)().format(l.DATE_FORMAT_STRING),date_unit:"day",num_fields:[{alias:s,fomula:"count",filter:"uq",name:o[r]}]}};t.MonthActiveDataModel=E;var h=function e(t){var a=t.date_unit,r=t.userIdentityType,d=void 0===r?"user_id":r;return(0,i.default)(this,e),{analysisModel:"hour"===a?"active_user":"active_user_device_browser_area",model_type:"hour"===a?l.MODE_TYPES.adm:l.MODE_TYPES.fct,dim_fields:[{alias:m,name:n[a],data_fill:!0}],order_by:["".concat(m,"$asc")],num_fields:[{alias:c,fomula:"hour"===a?"sum":"count",filter:"hour"===a?void 0:"uq",name:"hour"===a?u[d]:o[d],type:"line"}],value_axis:[{}],category_axis:{axisLabel:{interval:"auto"}},tooltip:{axisPointer:{type:"line",lineStyle:{color:"#8C9BA5",opacity:.6}}}}};t.ActiveUserTrend=h;var M=function e(t){var a=t.userIdentityType,r=void 0===a?"user_id":a,d=t.through_index,n=void 0===d?0:d,u=t.from_date,_=t.to_date,s=t.filter,f=void 0===s?[]:s;(0,i.default)(this,e);var v=[{alias:"\u7701",name:"province"},{alias:"\u5e02",name:"city"}];return{chart_type:"map",max_through_index:1,model_type:l.MODE_TYPES.fct,from_date:u,to_date:_,date_unit:"day",dim_fields:[v[n]],num_fields:[{alias:c,name:o[r],fomula:"count",filter:"uq"}],order_by:["".concat(c,"$desc")],through_index:n,filter:f}};t.MapRegional=M;var w=function e(t){var a=t.userIdentityType,r=void 0===a?"user_id":a;return(0,i.default)(this,e),{data_limit:8,model_type:l.MODE_TYPES.fct,filter:["browser_name$isnet()"],dim_fields:[{alias:f,name:"browser_name"}],date_unit:"day",num_fields:[{alias:c,name:o[r],fomula:"count",filter:"uq"}],order_by:["".concat(c,"$desc")]}};t.ActiveUserOverviewBrowser=w;var T=function e(t){var a=t.userIdentityType,r=void 0===a?"user_id":a;return(0,i.default)(this,e),{data_limit:8,model_type:l.MODE_TYPES.fct,filter:["device_manufacturer$isnet()"],dim_fields:[{alias:v,name:"device_manufacturer"}],date_unit:"day",num_fields:[{alias:c,name:o[r],fomula:"count",filter:"uq"}],order_by:["".concat(c,"$desc")]}};t.ActiveUserOverviewDevice=T;var b=function e(t){var a=t.userIdentityType,r=void 0===a?"user_id":a;return(0,i.default)(this,e),{model_type:l.MODE_TYPES.fct,filter:["tenant$isnet()"],dim_fields:[{alias:p,name:"tenant"}],num_fields:[{alias:c,name:o[r],fomula:"count",filter:"uq",type:"bar"}],order_by:["".concat(c,"$desc")],value_axis:[{name:"\u7528\u6237\u6570"}],chart_type:"barlike_horizon",grid:{left:"10%",right:"10%"},data_limit:6}};t.TenantOverview=b}}]);