(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26,10],{"0BT5":function(e,t,a){"use strict";var n=a("jehZ"),r=a.n(n),i=a("2Taf"),o=a.n(i),l=a("vZ4D"),s=a.n(l),c=a("l4Ni"),d=a.n(c),u=a("ujKo"),p=a.n(u),h=a("MhPg"),m=a.n(h),f=a("q1tI"),v=a.n(f),g=(a("eQWT"),function(e,t){return function(a){function n(t){var a;return o()(this,n),a=d()(this,p()(n).call(this,t)),a.moduleName=e.displayName||e.name||"Component",a.state={hasError:!1,error:null,errorInfo:null},a}return m()(n,a),s()(n,[{key:"componentDidCatch",value:function(e,t){this.setState({hasError:!0,errorInfo:t,error:e})}},{key:"render",value:function(){return this.state.hasError?this.renderErrorComponent():v.a.createElement(e,this.props)}},{key:"renderErrorComponent",value:function(){var e=this.state,a=e.error,n=e.errorInfo;return t?v.a.createElement(t,r()({},this.props,{error:a,errorInfo:n})):v.a.createElement("div",{className:"error-wrap"},v.a.createElement("p",null,this.moduleName,"\u5f02\u5e38\uff01"))}}]),n}(f["PureComponent"])});function y(e){return function(t){return g(t,e)}}t["a"]=y},"0N5i":function(e,t,a){e.exports={dataCard:"dataCard___3IhuM"}},"1UQL":function(e,t,a){"use strict";a("+L6B");var n=a("2/Rp"),r=a("2Taf"),i=a.n(r),o=a("vZ4D"),l=a.n(o),s=a("l4Ni"),c=a.n(s),d=a("ujKo"),u=a.n(d),p=a("MhPg"),h=a.n(p),m=a("q1tI"),f=a.n(m),v=(a("17x9"),a("t0Ix")),g=a.n(v),y=function(e){function t(){return i()(this,t),c()(this,u()(t).apply(this,arguments))}return h()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.title,r=e.exportable,i=e.style;return f.a.createElement("div",{className:g.a.block,style:i},a&&f.a.createElement("div",{className:g.a.title},f.a.createElement("span",null,a),r&&f.a.createElement(n["a"],{className:g.a.exportBtn,type:"normal",shape:"circle",icon:"download",size:"small"})),t)}}]),t}(m["PureComponent"]);y.defaultProps={style:{},exportable:!1},t["a"]=y},"7llA":function(e,t,a){e.exports={overviewCard:"overviewCard___1w1zB"}},"8xof":function(e,t,a){"use strict";a("Pwec");var n,r,i,o,l,s=a("CtXQ"),c=a("d6i3"),d=a.n(c),u=a("1l/V"),p=a.n(u),h=a("p0pE"),m=a.n(h),f=a("2Taf"),v=a.n(f),g=a("vZ4D"),y=a.n(g),_=a("l4Ni"),b=a.n(_),j=a("ujKo"),x=a.n(j),C=a("MhPg"),S=a.n(C),T=a("q1tI"),k=a.n(T),E=(a("17x9"),a("MT78")),w=a.n(E),D=a("PPmU"),M=a("0BT5"),I=a("Y+p1"),N=a.n(I),P=a("a9jo"),R=a.n(P),O=a("mwIZ"),A=a.n(O),L=a("w8y4"),G=a("zLPB"),B=a("9F+s"),U=a("v4z3"),z=a.n(U),q=(n=Object(D["a"])({handleWidth:!0,handleHeight:!0,skipOnMount:!0,refreshMode:"throttle",refreshRate:300}),r=Object(M["a"])(),n(i=r((l=o=function(e){function t(e){var n;v()(this,t),n=b()(this,x()(t).call(this,e)),n.renderRankList=function(){var e=n.props,a=e.showRank,r=e.analysisData,i=e.name;if(!a)return null;var o=r.data,l=void 0===o?[]:o,s=r.dim_fields,c=void 0===s?[]:s,d=r.num_fields,u=void 0===d?[]:d,p=u.filter(function(e){return!e.hidden}),h=c[0],m=p[0],f=l.slice(0,a);return f.length>0?k.a.createElement("div",{className:z.a.rankList},k.a.createElement("div",{className:z.a.rankTitle},"TOP\u6392\u884c\u699c"),k.a.createElement("ul",{className:z.a.rankContent},f.map(function(e,a){var n=t.generateGeoName(e,h),r=e[m.alias]||0;return k.a.createElement("li",{key:"".concat(i,"-rank-list-row-").concat(a),className:z.a.rankRow},k.a.createElement("div",{className:z.a.rankRowLeft},k.a.createElement("span",{className:z.a.rankNum},a+1),n),k.a.createElement("div",{className:z.a.rankRowRight},Object(G["f"])(r)))}))):null},n.handleGeoThrough=function(e){e.event.event.stopPropagation();var t=A()(e,"data.name");if(t){var a=n.props,r=a.analysisData,i=a.getData,o=r||{},l=o.dim_fields,s=void 0===l?[]:l,c=o.through_index,d=void 0===c?0:c,u=o.max_through_index,p=void 0===u?0:u,h=o.filter,m=void 0===h?[]:h;if(!(d>=p)){var f=s[0].name;if(m.push("".concat(f,"$eq(").concat(t,")")),"province"===f){if(!B["b"][t])return;n.province=t}i({through_index:d+1,filter:m})}}},n.handleGeoThroughBack=function(e){"function"===typeof A()(e,"event.event.stopPropagation")&&e.event.event.stopPropagation();var t=n.props,a=t.analysisData,r=t.getData,i=a||{},o=i.through_index,l=void 0===o?0:o,s=i.filter,c=void 0===s?[]:s;if(!(l<=0)){var d=l-1;/^province\$eq\(/.test(c[d])&&(n.province="");var u=[].concat(c);u.pop(),r({through_index:d,filter:u})}},n.generateMapChart=function(e){var a=e.tooltip,r=void 0===a?{}:a,i=e.grid,o=void 0===i?{}:i,l=e.data,s=void 0===l?[]:l,c=e.dim_fields,d=void 0===c?[]:c,u=e.num_fields,p=void 0===u?[]:u,h=e.formatters,f=void 0===h?{}:h;n.loadMap();var v,g=p.filter(function(e){return!e.hidden}),y=d[0],_=g[0],b=0,j=R()(s,function(e){return e[_.alias]||0}),x=[{name:_.alias,type:"map",geoIndex:0,data:s.map(function(e){var a=e[_.alias]||0,n=Object(G["j"])(100*a/j);return b=b<a?a:b,v=void 0===v?a:v>a?a:v,{name:t.generateGeoName(e,y),rate:"".concat(Number.isNaN(n)?0:n,"%"),value:a}})}],C=Object(L["c"])(function(e){return e},function(e){return"function"===typeof f[e.seriesName]?f[e.seriesName](e.value):Object(G["f"])(e.value)});return{tooltip:m()({trigger:"item",backgroundColor:"transparent",padding:0,formatter:C},r),grid:m()({},B["e"],o),visualMap:{type:"continuous",min:v,max:b,right:"center",top:"center",padding:[0,0,0,700],hoverLink:!0,align:"left",inRange:{color:[B["d"].min,B["d"].max]},outOfRange:{color:B["d"].empty},text:["\u9ad8","\u4f4e"],calculable:!0,orient:"vertical",itemWidth:20,itemHeight:200,textStyle:{color:"RGBA(0,0,0,0.45)"}},geo:{map:y&&"province"===y.name?"china":n.province||"china",zoom:1.2,top:"middle",left:"center",itemStyle:{borderColor:B["d"].edge,borderWidth:.5,color:B["d"].empty},emphasis:{label:{show:!1},itemStyle:{color:B["d"].hover}}},series:x}},n.bindThroughActions=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(n.chart){try{n.echartRef.firstChild.firstChild.oncontextmenu=function(e){return e.preventDefault(),!1}}catch(e){}n.chart.off("click"),n.chart.off("contextmenu"),e&&(n.chart.on("click",n.handleGeoThrough),n.chart.on("contextmenu",n.handleGeoThroughBack))}},n.loadMap=p()(d.a.mark(function e(){var t;return d.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=n.province?"province/".concat(B["b"][n.province]):"china",n.mapLoaded[t]){e.next=7;break}return n.mapLoading=!0,e.next=5,a("XkqJ")("./".concat(t));case 5:n.mapLoading=!1,n.chart&&n.chart.setOption(n.option);case 7:case"end":return e.stop()}},e)}));var r=e.analysisData;return n.chart=null,n.mapLoaded={},n.mapLoading=!1,n.currThroughIndex=0,n.province="",n.prevProvince="",n.option=n.generateMapChart(r),n}return S()(t,e),y()(t,[{key:"componentDidMount",value:function(){this.chart=w.a.init(this.echartRef),this.chart.setOption(this.option,!0);var e=this.props.analysisData||{},t=e.max_through_index,a=void 0===t?0:t;this.bindThroughActions(a>0)}},{key:"shouldComponentUpdate",value:function(e){var t=e.width,a=e.height,n=e.analysisData,r=e.showRank,i=n||{},o=i.through_index,l=void 0===o?0:o,s=i.max_through_index,c=void 0===s?0:s,d=i.data,u=void 0===d?[]:d,p=r>0&&!N()(A()(this.props.analysisData,"data",[]),u);this.currThroughIndex=l,this.bindThroughActions(c>0);var h=this.generateMapChart(n);return!N()(this.option,h)&&this.chart&&(this.option=h,this.mapLoading||this.chart.setOption(h,!0)),this.props.width===t&&this.props.height===a||this.chart&&this.chart.resize({width:t,height:a}),this.province!==this.prevProvince?(this.prevProvince=this.province,!0):p}},{key:"componentWillUnmount",value:function(){this.bindThroughActions(!1),this.chart.dispose(),this.chart=null}},{key:"render",value:function(){var e=this,t=this.props,a=t.chartWidth,n=t.chartHeight;return k.a.createElement("div",{className:z.a.mapChart,style:{width:a,height:n}},this.renderRankList(),this.province&&k.a.createElement("div",{className:z.a.backArrow,onClick:this.handleGeoThroughBack},k.a.createElement(s["a"],{type:"arrow-left"})),k.a.createElement("div",{className:z.a.baseChart,ref:function(t){e.echartRef=t},onContextMenu:function(e){return e.stopPropagation(),e.preventDefault(),!1}}))}}],[{key:"generateGeoName",value:function(e,t){var a=e[t.alias];return a?"city"!==t.name||/(\u53bf|\u5e02|\u5730\u533a|\u81ea\u6cbb\u5dde)$/.test(a)?a:"".concat(a,"\u5e02"):"-"}}]),t}(T["Component"]),o.defaultProps={chartWidth:"100%",chartHeight:"400px",showRank:0},i=l))||i)||i);t["a"]=q},"9F+s":function(e,t,a){"use strict";a.d(t,"c",function(){return n}),a.d(t,"d",function(){return r}),a.d(t,"g",function(){return i}),a.d(t,"h",function(){return o}),a.d(t,"a",function(){return l}),a.d(t,"f",function(){return s}),a.d(t,"e",function(){return c}),a.d(t,"b",function(){return d});var n=["RGBA(24,144,255,0.85)","RGBA(7,194,91,0.85)","RGBA(250,204,20,0.85)","RGBA(240,72,100,0.85)","RGBA(19,194,194,0.85)","RGBA(133,67,224,0.85)","RGBA(52,54,199,0.85)","RGBA(34,50,115,0.85)","RGBA(30,203,234,0.85)","RGBA(135,202,26,0.85)","RGBA(247,160,32,0.85)","RGBA(235,61,171,0.85)","RGBA(15,209,159,0.85)","RGBA(96,77,227,0.85)","RGBA(0,118,173,0.85)","RGBA(255,64,64,0.85)"],r={empty:"RGBA(233,249,255,0.85)",min:"RGBA(186,231,255,0.85)",max:"RGBA(0,80,179,0.85)",edge:"RGBA(212,239,244,0.85)",hover:"RGBA(48,194,91,0.85)"},i={type:"category",axisTick:{alignWithLabel:!0,interval:0},axisLine:{lineStyle:{color:"RGBA(217,217,217,0.85)"}},axisLabel:{color:"RGBA(0,0,0,0.85)",interval:0}},o={type:"value",axisLine:{show:!1},axisTick:{show:!1},splitLine:{lineStyle:{type:"dashed",color:"#E8E8E8"}},min:0},l={confine:!0,trigger:"axis",axisPointer:{type:"shadow",z:0,shadowStyle:{color:"#EEF4FC",opacity:.6}},backgroundColor:"transparent",padding:0},s={trigger:"item",backgroundColor:"transparent",padding:0},c={top:"32px",right:"24px",bottom:"24px",left:"24px",containLabel:!0},d={"\u5b89\u5fbd":"anhui","\u6fb3\u95e8":"aomen","\u5317\u4eac":"beijing","\u91cd\u5e86":"chongqing","\u798f\u5efa":"fujian","\u7518\u8083":"gansu","\u5e7f\u4e1c":"guangdong","\u5e7f\u897f":"guangxi","\u8d35\u5dde":"guizhou","\u6d77\u5357":"hainan","\u6cb3\u5317":"hebei","\u9ed1\u9f99\u6c5f":"heilongjiang","\u6cb3\u5357":"henan","\u6e56\u5317":"hubei","\u6e56\u5357":"hunan","\u6c5f\u82cf":"jiangsu","\u6c5f\u897f":"jiangxi","\u5409\u6797":"jilin","\u8fbd\u5b81":"liaoning","\u5185\u8499\u53e4":"neimenggu","\u5b81\u590f":"ningxia","\u9752\u6d77":"qinghai","\u5c71\u4e1c":"shandong","\u4e0a\u6d77":"shanghai","\u5c71\u897f":"shanxi","\u9655\u897f":"shanxi1","\u56db\u5ddd":"sichuan","\u53f0\u6e7e":"taiwan","\u5929\u6d25":"tianjin","\u9999\u6e2f":"xianggang","\u65b0\u7586":"xinjiang","\u897f\u85cf":"xizang","\u4e91\u5357":"yunnan","\u6d59\u6c5f":"zhejian"}},EGzU:function(e,t,a){"use strict";a("T2oS");var n,r,i,o,l=a("W9HT"),s=a("gWZ8"),c=a.n(s),d=a("Y/ft"),u=a.n(d),p=a("p0pE"),h=a.n(p),m=(a("7Kak"),a("9yH6")),f=a("eHn4"),v=a.n(f),g=a("2Taf"),y=a.n(g),_=a("vZ4D"),b=a.n(_),j=a("l4Ni"),x=a.n(j),C=a("ujKo"),S=a.n(C),T=a("rlhR"),k=a.n(T),E=a("MhPg"),w=a.n(E),D=(a("OaEy"),a("2fM7")),M=(a("5NDa"),a("5rEg")),I=(a("iQDF"),a("+eQT")),N=a("q1tI"),P=a.n(N),R=(a("17x9"),a("MuoO")),O=a("mwIZ"),A=a.n(O),L=a("Y+p1"),G=a.n(L),B=a("sEfC"),U=a.n(B),z=a("P/G1"),q=a.n(z),V=a("wd/R"),F=a.n(V),H=a("TSYQ"),W=a.n(H),Q=a("zLPB"),Z=a("Zf/7"),Y=a("NZA3"),K=a.n(Y),X=I["a"].RangePicker,J=M["a"].Search,$=D["a"].Option,ee=(n=Object(R["connect"])(function(e){var t=e.common,a=e.analysis;return{productCode:t.productCode,appCode:t.appCode,tenantCode:t.tenantCode,data:a.data,filters:a.filters,threshold:a.threshold,userIdentityType:a.userIdentityType,pageIdentityType:a.pageIdentityType}}),n((o=i=function(e){function t(e){var a;y()(this,t),a=x()(this,S()(t).call(this,e)),a.renderDateFilters=function(){var e=a.props.dateFilterSelections,t=a.state,n=t.fromDate,r=t.toDate,i=t.dateMode,o=n&&r?[F()(n),F()(r)]:[];return P.a.createElement(N["Fragment"],null,e.map(function(e,t){var n=/^far\d+/.test(e)?e.replace(/^far(\d+)/,"\u8fd1$1\u5929"):Z["c"][e].name;return P.a.createElement("span",{key:"data-filter-date-option-".concat(e,"-").concat(t),className:W()(K.a.dayBtn,v()({},K.a.active,i===e)),style:0===t?{marginLeft:0}:null,onClick:a.handleChangeDateMode.bind(k()(a),e)},n)}),P.a.createElement(X,{placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],className:K.a.dateRangePicker,onChange:a.handleChangeDate,value:o}))},a.renderExtraParamSelect=function(){var e=a.props.extraParams,t=a.state.extraParamsIndex;return P.a.createElement(D["a"],{mode:"single",defaultValue:0,value:t,onSelect:a.handleSelectExtraParam,className:K.a.sort},e.map(function(e,t){return P.a.createElement($,{value:t,key:"data-filter-sort-option-".concat(e.alias)},e.text)}))},a.renderTab=function(){var e=a.props,t=e.tabs,n=e.name,r=a.state.activeTab;return P.a.createElement(m["a"].Group,{className:K.a.tabGroup,value:r,onChange:a.handleTabChange},t.map(function(e,t){return P.a.createElement(m["a"].Button,{value:t,key:"data-tab-".concat(n,"-").concat(e.key)},e.name)}))},a.renderDimSelector=function(){var e=a.props,n=e.analysisModel,r=e.tagSelectorData,i=e.name;if(!n)return null;if(!Array.isArray(r)||0===r.length)return null;var o=r.length,l=r.map(function(e,n){var r=t.getTagSelectorSignatureName(i,e.alias),l=a._getAnalysisDataBySignature(r);if(!l)return null;var s=[];if(s.push(a.renderTagRow(l,n)),e.sub_dim){var c=t.getTagSelectorSignatureName(i,e.sub_dim.alias),d=a._getAnalysisDataBySignature(c);d&&s.push(a.renderTagRow(d,n))}return n===o-1||e.noDivider||s.push(P.a.createElement("li",{className:K.a.divider,key:"".concat(K.a.divider,"-").concat(e.alias,"-").concat(n)})),s});return P.a.createElement("ul",{className:K.a.dimSelector},l)},a.renderTagRow=function(e,t){var n=e.dim_fields,r=e.data,i=e.noNextPage,o=e.page,l=a.state,s=l.tagSelected,c=l.tagLoading,d=n[0],u="".concat(a.tagTitleWidth,"px"),p=Array.isArray(r)&&r.length>0,h=p?r.map(function(e,n){var r=e[d.alias]||"\u672a\u77e5".concat(d.alias),i=A()(s,[d.alias,"values"],[]).indexOf(r)>-1,o=W()(K.a.tagItem,K.a.selectorItem,v()({},K.a.active,i));return P.a.createElement("div",{key:"".concat(K.a.selectorItem,"-").concat(d.alias,"-").concat(t,"-").concat(r,"-").concat(n),className:o,onClick:a.handleChangeSelector.bind(k()(a),d,e[d.alias]||"")},r)}):P.a.createElement("div",{className:W()(K.a.tagItem,K.a.noTag)},"\u6682\u65e0\u53ef\u9009\u62e9\u7684".concat(d.alias)),m=!c.global&&c[d.alias],f=p&&!i&&P.a.createElement("div",{className:W()(K.a.tagItem,K.a.nextPageItem),onClick:a.handleLoadTagSelectorNextPage.bind(k()(a),d,o)},"\u52a0\u8f7d\u66f4\u591a"),g=P.a.createElement("div",{className:K.a.tagItem,style:{paddingTop:"7px"}},P.a.createElement("div",{className:"spinner-icon primary-color"}));return P.a.createElement("li",{className:K.a.selectorRow,key:"".concat(K.a.selectorRow,"-").concat(d.alias,"-").concat(t)},P.a.createElement("div",{style:{width:u},className:K.a.selectorTitle},d.alias,"\uff1a"),P.a.createElement("div",{style:{paddingLeft:u},className:K.a.selectorContent},h,m?g:f,P.a.createElement("div",{style:{clear:"both"}})))},a.renderDataContent=function(){var e=a.props,t=e.dataModels,n=e.analysisModel,r=e.contentStyle,i=e.disableNoDataStatus,o=a.state.loading,l=t.map(function(e,t){var r=e.analysisModel,l=e.name,s=e.paginationable,c=e.component,d=e.title,u=e.style,p=e.silent,m=r||n,f=function(e){return P.a.createElement("div",{style:u,key:"".concat(m,"-").concat(l,"-").concat(t),className:W()(K.a.childContainer,v()({},K.a.hasTitle,d))},d&&P.a.createElement("div",{className:K.a.childTitle},d),P.a.createElement("div",{className:K.a.childContent},e))};if(p)return f(c);var g=o[t],y=a._getAnalysisDataBySignature(l),_=A()(y,"data",[]),b=A()(y,"msg","\u6682\u65e0\u6570\u636e"),j=!Array.isArray(_)||0===_.length,x=N["Children"].only(c),C=h()({name:l,paginationable:s,analysisData:y,analysisModel:m,loading:g,getData:a._getDataByModelIndex.bind(k()(a),t)},x.props),S=g?null:P.a.createElement("div",{className:K.a.noData},b||"\u6682\u65e0\u6570\u636e"),T=!i&&j?S:Object(N["cloneElement"])(x,C);return f(T)});return P.a.createElement("div",{style:r,className:K.a.multipleFilterContent},l,P.a.createElement("div",{style:{clear:"both"}}))},a.handleTabChange=function(e){var t=e.target.value;a.setState({activeTab:t}),sessionStorage.setItem(a.props.tabPreferKey,t)},a.handleChangeSelector=function(e,n){var r=e.sub_dim,i=u()(e,["sub_dim"]),o=a.props,l=o.dispatch,s=o.productCode,d=o.appCode,p=o.tenantCode,m=o.name,f=a.state.tagSelected,g=v()({},i.alias,h()({},i)),y=A()(f,[i.alias,"values"],[]),_=!r&&i.multi_select,b=Array.isArray(y)&&y.indexOf(n)>-1;g[i.alias].values=b?_?y.filter(function(e){return e!==n}):[]:_?[].concat(c()(y),[n]):[n],r&&(f[r.alias]&&(g[r.alias]=h()({},f[r.alias],{values:[]})),b?l({type:"analysis/removeData",payload:Object(Q["e"])({productCode:s,appCode:d,tenantCode:p,name:t.getTagSelectorSignatureName(m,r.alias)})}):a._getTagSelectorData(r,{page:1,filter:["".concat(i.name,"$eq(").concat(n,")")]})),a.setState(function(){return{tagSelected:h()({},f,g)}})},a.handleLoadTagSelectorNextPage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=a.state.tagSelected,r={page:t+1};if(e.upper_alias){var i=A()(n,[e.upper_alias]);r.filter=["".concat(i.name,"$eq(").concat(i.values[0],")")]}a._getTagSelectorData(e,r)},a.handleChangeDateMode=function(e){var t=a.props,n=t.dispatch,r=t.name;n({type:"analysis/updateFilter",payload:{name:r,data:{fromDate:"",toDate:"",dateMode:e}}})},a.handleChangeDate=function(e,t){var n=a.props,r=n.dispatch,i=n.name,o=t[0],l=t[1];r({type:"analysis/updateFilter",payload:{name:i,data:{fromDate:o,toDate:l,dateMode:o&&l?Z["c"].range.key:Z["c"].today.key}}})},a.handleChangeSearch=function(e){var t=e.target.value;a.setState({keyword:t},a.handleStartSearch.bind(k()(a),t,!1))},a.handleStartSearch=U()(function(e,t){t?a.setState({keyword:e},a._getMultipleData):a._getMultipleData()},500),a.handleSelectExtraParam=function(e){e!==a.state.extraParamsIndex&&a.setState({extraParamsIndex:e})},a._getMultipleData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];Array.isArray(e)&&0!==e.length?e.forEach(function(e){return a._getDataByModelIndex(e)}):a.props.dataModels.map(function(e,t){return!e.silent&&a._getDataByModelIndex(t)})},a._getDataByModelIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a._getData(h()({},t,{modelIndex:e}))},a._getData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.modelIndex,n=void 0===t?0:t,r=e.order_by,i=void 0===r?null:r,o=e.page,l=void 0===o?1:o,s=u()(e,["modelIndex","order_by","page"]),d=a.props,p=d.dispatch,m=d.productCode,f=d.appCode,g=d.tenantCode,y=d.userIdentityType,_=d.pageIdentityType,b=d.threshold,j=d.analysisModel,x=d.dataModels,C=d.extraParams,S=d.tabs,T=d.tagSelectorData,k=d.staticDate,E=x[n],w=E.analysisModel,D=E.name,M=E.paginationable,I=E.DataModel,N=w||j;if(I&&N&&m){var P=a.state,R=P.fromDate,O=P.toDate,L=P.dateMode,G=P.keyword,B=P.extraParamsIndex,U=P.tagSelected,z=P.activeTab,V=k?Object(Q["b"])(k.fromDate,k.toDate,k.dateMode):Object(Q["b"])(R,O,L),F=new I(h()({keyword:G,userIdentityType:y,pageIdentityType:_,threshold:A()(b,j,null)},V,s),A()(S,[z,"key"],"")),H=h()({productCode:m,appCode:f,tenantCode:g,name:D,analysisModel:N,order_by:[]},V,F);Array.isArray(a.defaultSort[n])&&a.defaultSort[n].length>0&&(H.order_by=a.defaultSort[n]);var W=A()(C,B);W&&(H[W.key]=W.data),Array.isArray(i)&&(H.order_by=i),M&&l>0&&(H.page=l),H.static_sort&&(Array.isArray(H.order_by)&&-1===H.order_by.indexOf(H.static_sort)&&H.order_by.push(H.static_sort),Reflect.deleteProperty(H,"static_sort")),a.defaultSort[n]=H.order_by;var Z=q()(U);if(Array.isArray(T)&&T.length>0&&Z.length>0){var Y=[],K=Z.map(function(e){var t=e.values,a=void 0===t?[]:t,n=u()(e,["values"]),r=a.join(",");if(!r)return null;var i="".concat(n.name,"$").concat(n.multi_select?"in":"eq","(").concat(r,")");return Y.push(i),{alias:n.alias,name:n.name}}).filter(function(e){return e});H.dim_fields=[].concat(c()(H.dim_fields||[]),c()(K)),H.filter=[].concat(c()(H.filter||[]),Y)}a.setState(function(e){return{loading:h()({},e.loading,v()({},n,!0))}}),p({type:"analysis/fetchAnalysisData",payload:H}).then(function(){a.setState(function(e){return{loading:h()({},e.loading,v()({},n,!1))}})})}},a._getAnalysisDataBySignature=function(e){var t=a.props,n=t.data,r=t.productCode,i=t.appCode,o=t.tenantCode,l=Object(Q["e"])({productCode:r,appCode:i,tenantCode:o,name:e});return A()(n,l,null)},a._getInitialTagSelectorData=function(){var e=a.props.tagSelectorData;Array.isArray(e)&&e.length>0&&(a.setState({tagSelected:{}}),e.forEach(function(e){a._clearTagSelectorData(e),e.sub_dim&&a._clearTagSelectorData(e.sub_dim),a._getTagSelectorData(e,{page:1},!0)}))},a._clearTagSelectorData=function(e){var n=a.props,r=n.dispatch,i=n.productCode,o=n.appCode,l=n.tenantCode,s=n.name;r({type:"analysis/removeData",payload:Object(Q["e"])({productCode:i,appCode:o,tenantCode:l,name:t.getTagSelectorSignatureName(s,e.alias)})})},a._getTagSelectorData=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=a.props,o=i.dispatch,l=i.productCode,s=i.appCode,c=i.tenantCode,d=i.name,u=i.analysisModel,p=i.TagSelectorModel,m=i.userIdentityType,f=i.pageIdentityType,g=i.staticDate;if(p&&u&&l){var y=a.state,_=y.fromDate,b=y.toDate,j=y.dateMode,x=y.keyword,C=g?Object(Q["b"])(g.fromDate,g.toDate,g.dateMode):Object(Q["b"])(_,b,j),S=new p(h()({keyword:x,userIdentityType:m,pageIdentityType:f,dim_fields:[e]},C,n)),T=h()({analysisModel:u,productCode:l,appCode:s,tenantCode:c,name:t.getTagSelectorSignatureName(d,e.alias)},S),k=r?"global":e.alias;a.setState({tagLoading:v()({},k,!0)}),o({type:"analysis/fetchAnalysisData",payload:T}).then(function(){a.setState({tagLoading:v()({},k,!1)})})}};var n=e.dateFilterSelections,r=e.analysisModel,i=e.threshold,o=e.dataModels,l=e.tagSelectorData,s=e.tabPreferKey,d=e.tabs,p=e.initialDate;a.tagTitleWidth=t.calcTagTitleWidth(l||[]);var f,g,_=sessionStorage.getItem(s)||0;if(d[_]||(_=0),a.staticSort=[],a.defaultSort=o.map(function(e){var t=e.DataModel,n=e.silent;if(n)return a.staticSort.push(null),[];var r=new t({},A()(d,[_,"key"],""));return a.staticSort.push(r.static_sort||null),Object(Q["c"])(r)}),p){var b=p.fromDate,j=p.toDate,C=p.dateMode,T=void 0===C?"":C;f=Object(Q["b"])(b,j,T),g=T}else f=Object(Q["b"])("","",n[0]),g=n[0];return a.state={thresholdValue:A()(i,r,null),loading:{},tagLoading:{global:!1},activeTab:+_,tagSelected:{},keyword:"",extraParamsIndex:0,dateMode:g,fromDate:f.from_date,toDate:f.to_date},a}return w()(t,e),b()(t,[{key:"componentDidMount",value:function(){this._getMultipleData(),this._getInitialTagSelectorData()}},{key:"getSnapshotBeforeUpdate",value:function(e,a){var n=this.props,r=n.productCode,i=n.appCode,o=n.tenantCode,l=n.userIdentityType,s=n.pageIdentityType,c=n.tagSelectorData,d=n.TagSelectorModel,u=n.tabs,p=n.extraParams,h=this.state,m=h.thresholdValue,f=h.dateMode,v=h.fromDate,g=h.toDate,y=h.tagSelected,_=h.activeTab,b=h.extraParamsIndex;if(r!==e.productCode||i!==e.appCode||o!==e.tenantCode)return":tag:data";if(f!==a.dateMode||v!==a.fromDate||g!==a.toDate)return":tag:data";var j="";return"function"!==typeof d||G()(c,e.tagSelectorData)&&G()(d,e.TagSelectorModel)||(this.tagTitleWidth=t.calcTagTitleWidth(c||[]),j+=":tag"),l!==e.userIdentityType||s!==e.pageIdentityType?(j+=":data",j):"number"===typeof m&&m!==a.thresholdValue?(j+=":data",j):G()(u[_],e.tabs[a.activeTab])&&G()(p[b],e.extraParams[a.extraParamsIndex])?!G()(y,a.tagSelected)&&(j+=":data",j):(j+=":data",j)}},{key:"componentDidUpdate",value:function(e,t,a){a&&(a.indexOf(":data")>-1&&this._getMultipleData(),a.indexOf(":tag")>-1&&this._getInitialTagSelectorData())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.dispatch,a=e.name,n=e.dataUnreadFromRedux;this.setState=function(){},n&&t({type:"analysis/cleanFilter",payload:{name:a}})}},{key:"render",value:function(){var e=this.props,t=e.openSearch,a=e.searchPlaceHolder,n=e.staticDate,r=e.extraParams,i=e.tabs,o=this.state,s=o.keyword,c=o.loading,d=o.tagLoading,u=Array.isArray(r)&&r.length>0,p=Array.isArray(i)&&i.length>1,h=q()(c).some(function(e){return e})||A()(d,"global",!1),m=u||p||!n||t;return P.a.createElement(l["a"],{spinning:h,wrapperClassName:K.a.multipleFilterLoading},P.a.createElement("div",{className:K.a.multipleFilter},m&&P.a.createElement("div",{className:K.a.multipleFilterContainer},!n&&this.renderDateFilters(),t&&P.a.createElement(J,{className:K.a.search,placeholder:a,value:s,onSearch:this.handleStartSearch,onChange:this.handleChangeSearch}),p&&this.renderTab(),u&&this.renderExtraParamSelect()),this.renderDimSelector(),this.renderDataContent()))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a,n=e.dateFilterSelections,r=e.filters,i=e.name,o=e.analysisModel,l=e.threshold,s=e.initialDate,c=A()(l,o,null),d=A()(r,i,null);if(s){var u=s.fromDate,p=s.toDate,h=s.dateMode,m=void 0===h?"":h;a=Object(Q["b"])(u,p,m)}else a=Object(Q["b"])("","",n[0]);var f=d||{},v=f.fromDate,g=void 0===v?a.from_date:v,y=f.toDate,_=void 0===y?a.to_date:y,b=f.dateMode,j=void 0===b?s?s.dateMode:n[0]:b;return o&&c!==t.thresholdValue?{thresholdValue:c}:j!==t.dateMode||_!==t.toDate||g!==t.fromDate?{fromDate:g,toDate:_,dateMode:j}:null}},{key:"getTagSelectorSignatureName",value:function(e,a){return e+a+t.SELECTOR_NAME_SUFFIX}},{key:"calcTagTitleWidth",value:function(e){var t=Math.max.apply(Math,c()(e.map(function(e){var t=e.sub_dim,a=u()(e,["sub_dim"]),n=a.alias.replace(/[^\x00-\xff]/g,"aa").length,r=t?t.alias.replace(/[^\x00-\xff]/g,"aa").length:0;return Math.max(n,r)})));return 7*(t+2+(1&t))}}]),t}(N["PureComponent"]),i.defaultProps={dateFilterSelections:Z["b"],tabs:[],tabPreferKey:"global-tab-prefer-key",extraParams:[],searchPlaceHolder:"\u8bf7\u8f93\u5165\u5173\u952e\u5b57",openSearch:!1,disableNoDataStatus:!1},i.SELECTOR_NAME_SUFFIX="_tag_selector",r=o))||r);t["a"]=ee},GpzW:function(e,t,a){e.exports={pageNav:"pageNav___3PPY0",title:"title___3bDmh",subTitle:"subTitle___2n5-j",rightContainer:"rightContainer___2Pgff"}},KnRw:function(e,t,a){var n={"./af":"/Tvm","./af.js":"/Tvm","./ar":"yRKQ","./ar-dz":"2Mgn","./ar-dz.js":"2Mgn","./ar-kw":"SyK9","./ar-kw.js":"SyK9","./ar-ly":"Km2t","./ar-ly.js":"Km2t","./ar-ma":"k+3Q","./ar-ma.js":"k+3Q","./ar-sa":"dbzX","./ar-sa.js":"dbzX","./ar-tn":"E7L0","./ar-tn.js":"E7L0","./ar.js":"yRKQ","./az":"marO","./az.js":"marO","./be":"c9Cq","./be.js":"c9Cq","./bg":"Rxhz","./bg.js":"Rxhz","./bm":"Zf0k","./bm.js":"Zf0k","./bn":"qbSa","./bn.js":"qbSa","./bo":"aPmz","./bo.js":"aPmz","./br":"V/F2","./br.js":"V/F2","./bs":"CToL","./bs.js":"CToL","./ca":"GuxH","./ca.js":"GuxH","./cs":"qrel","./cs.js":"qrel","./cv":"wv9F","./cv.js":"wv9F","./cy":"7JVd","./cy.js":"7JVd","./da":"PtRy","./da.js":"PtRy","./de":"xhqU","./de-at":"bJtj","./de-at.js":"bJtj","./de-ch":"fRjz","./de-ch.js":"fRjz","./de.js":"xhqU","./dv":"tEna","./dv.js":"tEna","./el":"vE8+","./el.js":"vE8+","./en-SG":"ZLuH","./en-SG.js":"ZLuH","./en-au":"aGvD","./en-au.js":"aGvD","./en-ca":"TyIU","./en-ca.js":"TyIU","./en-gb":"xbvL","./en-gb.js":"xbvL","./en-ie":"8wpQ","./en-ie.js":"8wpQ","./en-il":"O112","./en-il.js":"O112","./en-nz":"mRnY","./en-nz.js":"mRnY","./eo":"nEfC","./eo.js":"nEfC","./es":"QqXE","./es-do":"OH6n","./es-do.js":"OH6n","./es-us":"VqXm","./es-us.js":"VqXm","./es.js":"QqXE","./et":"/BjE","./et.js":"/BjE","./eu":"lS/Y","./eu.js":"lS/Y","./fa":"Xl2a","./fa.js":"Xl2a","./fi":"pKmA","./fi.js":"pKmA","./fo":"1sIW","./fo.js":"1sIW","./fr":"t+gs","./fr-ca":"ApVP","./fr-ca.js":"ApVP","./fr-ch":"mR/r","./fr-ch.js":"mR/r","./fr.js":"t+gs","./fy":"zrXP","./fy.js":"zrXP","./ga":"oh3e","./ga.js":"oh3e","./gd":"7WNt","./gd.js":"7WNt","./gl":"EkHg","./gl.js":"EkHg","./gom-latn":"IlNN","./gom-latn.js":"IlNN","./gu":"SIlg","./gu.js":"SIlg","./he":"RWgf","./he.js":"RWgf","./hi":"fVgC","./hi.js":"fVgC","./hr":"QeL5","./hr.js":"QeL5","./hu":"UGq4","./hu.js":"UGq4","./hy-am":"powx","./hy-am.js":"powx","./id":"+gpe","./id.js":"+gpe","./is":"3azS","./is.js":"3azS","./it":"T/vC","./it-ch":"BQHH","./it-ch.js":"BQHH","./it.js":"T/vC","./ja":"n/+T","./ja.js":"n/+T","./jv":"pOn/","./jv.js":"pOn/","./ka":"5BLU","./ka.js":"5BLU","./kk":"i4p7","./kk.js":"i4p7","./km":"Rdvl","./km.js":"Rdvl","./kn":"x+k7","./kn.js":"x+k7","./ko":"+Fhz","./ko.js":"+Fhz","./ku":"4wLu","./ku.js":"4wLu","./ky":"dDLa","./ky.js":"dDLa","./lb":"Gudj","./lb.js":"Gudj","./lo":"VShb","./lo.js":"VShb","./lt":"5eMR","./lt.js":"5eMR","./lv":"JdG9","./lv.js":"JdG9","./me":"VVnP","./me.js":"VVnP","./mi":"oQ6b","./mi.js":"oQ6b","./mk":"tXUT","./mk.js":"tXUT","./ml":"uPxb","./ml.js":"uPxb","./mn":"p9cx","./mn.js":"p9cx","./mr":"b8N1","./mr.js":"b8N1","./ms":"Wnnz","./ms-my":"b+tO","./ms-my.js":"b+tO","./ms.js":"Wnnz","./mt":"V6YG","./mt.js":"V6YG","./my":"rt8X","./my.js":"rt8X","./nb":"xyXD","./nb.js":"xyXD","./ne":"4vTz","./ne.js":"4vTz","./nl":"6QMr","./nl-be":"LMGY","./nl-be.js":"LMGY","./nl.js":"6QMr","./nn":"Qsvx","./nn.js":"Qsvx","./pa-in":"oA7N","./pa-in.js":"oA7N","./pl":"C/jI","./pl.js":"C/jI","./pt":"V7OV","./pt-br":"b3iz","./pt-br.js":"b3iz","./pt.js":"V7OV","./ro":"TwjK","./ro.js":"TwjK","./ru":"YJSy","./ru.js":"YJSy","./sd":"4xdR","./sd.js":"4xdR","./se":"j5S3","./se.js":"j5S3","./si":"Am5L","./si.js":"Am5L","./sk":"sSmc","./sk.js":"sSmc","./sl":"9iY4","./sl.js":"9iY4","./sq":"cnMZ","./sq.js":"cnMZ","./sr":"ss7R","./sr-cyrl":"tGLK","./sr-cyrl.js":"tGLK","./sr.js":"ss7R","./ss":"mYhl","./ss.js":"mYhl","./sv":"IGtO","./sv.js":"IGtO","./sw":"p49z","./sw.js":"p49z","./ta":"VVil","./ta.js":"VVil","./te":"YQaq","./te.js":"YQaq","./tet":"2u18","./tet.js":"2u18","./tg":"oil7","./tg.js":"oil7","./th":"gJLt","./th.js":"gJLt","./tl-ph":"ogwM","./tl-ph.js":"ogwM","./tlh":"0bHV","./tlh.js":"0bHV","./tr":"BYDG","./tr.js":"BYDG","./tzl":"IUMd","./tzl.js":"IUMd","./tzm":"94jC","./tzm-latn":"Mgge","./tzm-latn.js":"Mgge","./tzm.js":"94jC","./ug-cn":"4xjM","./ug-cn.js":"4xjM","./uk":"NrFT","./uk.js":"NrFT","./ur":"U58I","./ur.js":"U58I","./uz":"orAx","./uz-latn":"jCvl","./uz-latn.js":"jCvl","./uz.js":"orAx","./vi":"t2dB","./vi.js":"t2dB","./x-pseudo":"XFnJ","./x-pseudo.js":"XFnJ","./yo":"qKGQ","./yo.js":"qKGQ","./zh-cn":"3O3J","./zh-cn.js":"3O3J","./zh-hk":"Fu0X","./zh-hk.js":"Fu0X","./zh-tw":"2Pdx","./zh-tw.js":"2Pdx"};function r(e){var t=i(e);return a(t)}function i(e){var t=n[e];if(!(t+1)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="KnRw"},Kr6O:function(e,t,a){"use strict";a("Pwec");var n,r,i,o,l,s,c,d=a("CtXQ"),u=(a("sPJy"),a("bE4q")),p=a("eHn4"),h=a.n(p),m=a("2Taf"),f=a.n(m),v=a("vZ4D"),g=a.n(v),y=a("l4Ni"),_=a.n(y),b=a("ujKo"),j=a.n(b),x=a("rlhR"),C=a.n(x),S=a("MhPg"),T=a.n(S),k=a("q1tI"),E=a.n(k),w=(a("17x9"),a("utR0")),D=a("O8Rh"),M=(a("OaEy"),a("2fM7")),I=a("MuoO"),N=M["a"].Option,P=(n=Object(I["connect"])(function(e){var t=e.analysis;return{threshold:t.threshold}}),n((i=function(e){function t(){var e,a;f()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=_()(this,(e=j()(t)).call.apply(e,[this].concat(r))),a.handleSelect=function(e){var t=a.props,n=t.dispatch,r=t.thresholdModel,i=t.threshold;i[r]!==e&&n({type:"analysis/updateThreshold",payload:{thresholdModel:r,value:e}})},a}return T()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.thresholdModel,a=e.threshold;return E.a.createElement("div",{style:{float:"right",marginLeft:"24px"}},"\u9608\u503c\uff1a",E.a.createElement(M["a"],{style:{width:"106px"},dropdownClassName:"page-nav-dropdown",defaultValue:3e3,value:a[t]||3e3,onChange:this.handleSelect},E.a.createElement(N,{value:500},"500ms"),E.a.createElement(N,{value:1e3},"1000ms"),E.a.createElement(N,{value:1500},"1500ms"),E.a.createElement(N,{value:2e3},"2000ms"),E.a.createElement(N,{value:2500},"2500ms"),E.a.createElement(N,{value:3e3},"3000ms"),E.a.createElement(N,{value:3500},"3500ms"),E.a.createElement(N,{value:4e3},"4000ms"),E.a.createElement(N,{value:4500},"4500ms"),E.a.createElement(N,{value:5e3},"5000ms")))}}]),t}(k["PureComponent"]),r=i))||r),R=P,O=M["a"].Option,A=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"userIdentityType",a=[];return a="pageIdentityType"===t?[E.a.createElement(O,{value:"title",key:"indentity-type-option-title"},"\u9875\u9762\u6807\u9898"),E.a.createElement(O,{value:"page_group",key:"indentity-type-option-page_group"},"\u9875\u9762\u5206\u7ec4")]:[E.a.createElement(O,{value:"user_id",key:"indentity-type-option-user_id"},"\u8bbe\u5907\u6807\u8bc6\u7528\u6237"),E.a.createElement(O,{value:"real_user_id",key:"indentity-type-option-real_user_id"},"\u4e1a\u52a1\u7cfb\u7edf\u7528\u6237")],Object(I["connect"])(function(e){var a=e.analysis;return h()({},t,a[t])})((e=function(e){function n(){var e,a;f()(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return a=_()(this,(e=j()(n)).call.apply(e,[this].concat(i))),a.handleSelect=function(e){var n=a.props[t];n!==e&&a.props.dispatch({type:"analysis/".concat(t,"Update"),payload:e})},a}return T()(n,e),g()(n,[{key:"render",value:function(){var e=this.props[t];return E.a.createElement("div",{style:{float:"right",marginLeft:"24px"}},"pageIdentityType"===t?"\u7c7b\u578b\uff1a":null,E.a.createElement(M["a"],{dropdownClassName:"page-nav-dropdown",defaultValue:e,value:e,onChange:this.handleSelect,style:{width:"userIdentityType"===t?"132px":"106px"}},a))}}]),n}(k["PureComponent"]),e))},L=A,G=a("mwIZ"),B=a.n(G),U=M["a"].Option,z=(o=Object(I["connect"])(function(e){var t=e.analysis;return{userGroup:t.userGroup}}),o((c=s=function(e){function t(){var e,a;f()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=_()(this,(e=j()(t)).call.apply(e,[this].concat(r))),a.state={currUserGroup:""},a.handleSelect=function(e){var n=a.props,r=n.dispatch,i=n.analysisModel,o=a.state.currUserGroup,l=e===t.ALL_USER_GROUP_STR?"":e;o!==l&&r({type:"analysis/updateUserGroup",payload:{userGroup:l,analysisModel:i}})},a}return T()(t,e),g()(t,[{key:"render",value:function(){var e=this.state.currentUserGroup;return E.a.createElement(M["a"],{dropdownClassName:"page-nav-dropdown",defaultValue:e||t.ALL_USER_GROUP_STR,value:e||t.ALL_USER_GROUP_STR,onChange:this.handleSelect,style:{width:"132px",float:"right",marginLeft:"24px"}},E.a.createElement(U,{value:t.ALL_USER_GROUP_STR},"\u5168\u90e8\u89d2\u8272"))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.analysisModel,n=e.userGroup,r=B()(n,a,"");return r!==t.currUserGroup?{currUserGroup:r}:null}}]),t}(k["PureComponent"]),s.ALL_USER_GROUP_STR="[ALL_USER_GROUP]",l=c))||l),q=z,V=a("GpzW"),F=a.n(V),H=L(),W=L("pageIdentityType"),Q=function(e){function t(){return f()(this,t),_()(this,j()(t).apply(this,arguments))}return T()(t,e),g()(t,[{key:"render",value:function(){var e=this.props,t=e.title,a=e.subTitle,n=e.thresholdModel,r=e.openUserIdentityType,i=e.openUserGroupSelect,o=e.openPageIdentityType;return E.a.createElement("div",{className:F.a.pageNav},E.a.createElement("div",{className:F.a.title},t,a&&E.a.createElement("span",{className:F.a.subTitle},a)),E.a.createElement("div",{className:F.a.rightContainer},n&&E.a.createElement(R,{thresholdModel:n}),i&&E.a.createElement(q,{analysisModel:i}),r&&E.a.createElement(H,null),o&&E.a.createElement(W,null)))}}]),t}(k["PureComponent"]);Q.defatulProps={openUserIdentityType:!1,openUserGroupSelect:!1,openPageIdentityType:!1,thresholdModel:""};var Z,Y,K,X,J=Q,$=a("cuOD"),ee=a.n($),te=(a("kVbL"),a("vjuj"),ee.a),ae=a("usdK"),ne=a("TSYQ"),re=a.n(ne),ie=a("DzJC"),oe=a.n(ie),le=a("s0kW"),se=a.n(le),ce=(Z=Object(D["a"])(),Object(w["a"])(Y=Z((X=K=function(e){function t(){var e,a;f()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=_()(this,(e=j()(t)).call.apply(e,[this].concat(r))),a.scrolling=!1,a.state={scrollTopBtnShow:!1},a.handleLinkTo=function(e){if(e.path){var t=e.withQuery,n=e.path,r={};if(Array.isArray(t)){var i=B()(C()(a),"props.location.query",{});t.forEach(function(e){i&&i[e]&&(r[e]=i[e])})}ae["a"].push({pathname:n,query:r})}},a.handleScrollY=oe()(function(){a.scrollRef&&a.scrollRef._container&&a.setState({scrollTopBtnShow:a.scrollRef._container.scrollTop>=160})},500),a.handleScrollToTop=function(){a.scrollRef&&a.scrollRef._container&&!a.scrolling&&a.scrollSmooth(a.scrollRef._container)},a.scrollSmooth=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,n=e.scrollTop||0;if(0!==n){var r=null,i=function i(o){r=r||o;var l=o-r,s=Math.min(1,(o-r)/t);e.scrollTop=n-s*n,l<t?window.requestAnimationFrame(i):a.scrolling=!1};a.scrolling=!0,window.requestAnimationFrame(i)}},a}return T()(t,e),g()(t,[{key:"getSnapshotBeforeUpdate",value:function(e){var t=this.props,a=t.productCode,n=t.appCode,r=t.tenantCode,i=t.userIdentityType,o=t.threshold,l=t.thresholdModel;return a!==e.productCode||n!==e.appCode||r!==e.tenantCode||(i!==e.userIdentityType||!(!l||B()(o,l)===B()(e.threshold,l)))}},{key:"componentDidUpdate",value:function(e,t,a){a&&this.scrollRef&&"function"===typeof this.scrollRef.updateScroll&&(this.scrollRef._container.scrollTop=0,this.scrollRef.updateScroll())}},{key:"render",value:function(){var e=this,t=this.props,a=t.navTitle,n=t.subTitle,r=t.thresholdModel,i=t.openUserIdentityType,o=t.openUserGroupSelect,l=t.openPageIdentityType,s=t.children,c=t.containerStyle,p=this.state.scrollTopBtnShow;return E.a.createElement("div",{className:re()(se.a.pageView,h()({},se.a.noNav,!a))},Array.isArray(a)?E.a.createElement(u["a"],{className:se.a.breadcrumb},a.map(function(t,a){return E.a.createElement(u["a"].Item,{key:"fast-page-nav-breadcrumb-".concat(t.path,"-").concat(a),className:re()(se.a.breadItem,h()({},se.a.link,!!t.path)),onClick:e.handleLinkTo.bind(e,t)},t.title)})):E.a.createElement(J,{title:a,subTitle:n,thresholdModel:r,openUserIdentityType:i,openUserGroupSelect:o,openPageIdentityType:l}),E.a.createElement(te,{className:se.a.pageContainer,style:c,ref:function(t){e.scrollRef=t},onScrollY:this.handleScrollY},Array.isArray(s)?s.map(function(e,t){return E.a.createElement("div",{className:se.a.contentArea,key:"page-view-content-area-".concat(t)},e)}):E.a.createElement("div",{className:se.a.contentArea},s)),E.a.createElement(d["a"],{type:"up",className:re()(se.a.scrollTopBtn,h()({},se.a.show,p)),onClick:this.handleScrollToTop}))}}]),t}(k["PureComponent"]),K.defaultProps={openUserIdentityType:!1,openUserGroupSelect:!1,openPageIdentityType:!1,thresholdModel:"",containerStyle:{}},Y=X))||Y)||Y);t["a"]=ce},NZA3:function(e,t,a){e.exports={multipleFilterLoading:"multipleFilterLoading___MpkE9",multipleFilter:"multipleFilter___3w9zu",multipleFilterContainer:"multipleFilterContainer___oPcJf",dayBtn:"dayBtn___N6adZ",active:"active___3qxmJ",dateRangePicker:"dateRangePicker___1SQsD",search:"search___2zOqy",sort:"sort___3u1hu",tabGroup:"tabGroup___3byoG",dimSelector:"dimSelector___23-YK",selectorRow:"selectorRow___1LLfI",selectorTitle:"selectorTitle___ygeQq",selectorContent:"selectorContent___1kd7w",tagItem:"tagItem___3xikw",selectorItem:"selectorItem___1IIWy",noTag:"noTag___3x1Fb",nextPageItem:"nextPageItem___19mV5",divider:"divider___3UCUo",multipleFilterContent:"multipleFilterContent___1pOwo",childContainer:"childContainer___R3rks",hasTitle:"hasTitle___2Sr7c",noData:"noData___1a5A2",childTitle:"childTitle___G1zai",childContent:"childContent___2_Evn"}},O8Rh:function(e,t,a){"use strict";a.d(t,"a",function(){return v});var n=a("2Taf"),r=a.n(n),i=a("vZ4D"),o=a.n(i),l=a("l4Ni"),s=a.n(l),c=a("ujKo"),d=a.n(c),u=a("MhPg"),p=a.n(u),h=a("q1tI"),m=a.n(h),f=a("MuoO");function v(){return function(e){var t,a,n=(t=Object(f["connect"])(function(e){var t=e.common,a=e.analysis;return{isSaasApp:t.isSaasApp,isHybridApp:t.isHybridApp,productCode:t.productCode,appCode:t.appCode,tenantCode:t.tenantCode,userIdentityType:a.userIdentityType,threshold:a.threshold}}),t(a=function(t){function a(){return r()(this,a),s()(this,d()(a).apply(this,arguments))}return p()(a,t),o()(a,[{key:"render",value:function(){return m.a.createElement(e,this.props)}}]),a}(h["PureComponent"]))||a);return n}}},PPmU:function(e,t,a){"use strict";var n=a("2Taf"),r=a.n(n),i=a("vZ4D"),o=a.n(i),l=a("l4Ni"),s=a.n(l),c=a("ujKo"),d=a.n(c),u=a("MhPg"),p=a.n(u),h=a("q1tI"),m=a.n(h),f=a("yUt2"),v=function(e){return function(t){var a=function(a){function n(){return r()(this,n),s()(this,d()(n).apply(this,arguments))}return p()(n,a),o()(n,[{key:"render",value:function(){return m.a.createElement(f["a"],e,m.a.createElement(t,this.props))}}]),n}(h["PureComponent"]);return a}};t["a"]=v},"QvT+":function(e,t,a){"use strict";a("Pwec");var n=a("CtXQ"),r=a("2Taf"),i=a.n(r),o=a("vZ4D"),l=a.n(o),s=a("l4Ni"),c=a.n(s),d=a("ujKo"),u=a.n(d),p=a("MhPg"),h=a.n(p),m=a("q1tI"),f=a.n(m),v=(a("17x9"),a("zLPB")),g=a("kxAN"),y=a.n(g),_=function(e){function t(){return i()(this,t),c()(this,u()(t).apply(this,arguments))}return h()(t,e),l()(t,[{key:"render",value:function(){var e=this.props,t=e.style,a=e.title,r=e.value,i=e.suffix,o=e.trend,l=e.empty;return f.a.createElement("div",{className:y.a.indicatorCard,style:t},f.a.createElement("div",{className:y.a.title},a),f.a.createElement("div",{className:y.a.value},r?Object(v["f"])(r)+i:l,o&&f.a.createElement(n["a"],{type:"caret-".concat(o),className:y.a.trend})))}}]),t}(m["PureComponent"]);_.defaultProps={empty:0,suffix:""},t["a"]=_},XkqJ:function(e,t,a){var n={"./china":["MTm3",0],"./china-contour":["ckbx",0],"./china-contour.js":["ckbx",0],"./china.js":["MTm3",0],"./province/anhui":["4pv+",0],"./province/anhui.js":["4pv+",0],"./province/aomen":["4Q4p",0],"./province/aomen.js":["4Q4p",0],"./province/beijing":["6L/5",0],"./province/beijing.js":["6L/5",0],"./province/chongqing":["uOSN",0],"./province/chongqing.js":["uOSN",0],"./province/fujian":["SqIS",0],"./province/fujian.js":["SqIS",0],"./province/gansu":["ugjr",0],"./province/gansu.js":["ugjr",0],"./province/guangdong":["LeL8",0],"./province/guangdong.js":["LeL8",0],"./province/guangxi":["QhB3",0],"./province/guangxi.js":["QhB3",0],"./province/guizhou":["zfDf",0],"./province/guizhou.js":["zfDf",0],"./province/hainan":["nP5N",0],"./province/hainan.js":["nP5N",0],"./province/hebei":["vvdu",0],"./province/hebei.js":["vvdu",0],"./province/heilongjiang":["gtn2",0],"./province/heilongjiang.js":["gtn2",0],"./province/henan":["eUBr",0],"./province/henan.js":["eUBr",0],"./province/hubei":["HIuW",0],"./province/hubei.js":["HIuW",0],"./province/hunan":["cL/E",0],"./province/hunan.js":["cL/E",0],"./province/jiangsu":["fGLE",0],"./province/jiangsu.js":["fGLE",0],"./province/jiangxi":["wMn0",0],"./province/jiangxi.js":["wMn0",0],"./province/jilin":["hUXd",0],"./province/jilin.js":["hUXd",0],"./province/liaoning":["eor2",0],"./province/liaoning.js":["eor2",0],"./province/neimenggu":["ASvv",0],"./province/neimenggu.js":["ASvv",0],"./province/ningxia":["hpxM",0],"./province/ningxia.js":["hpxM",0],"./province/qinghai":["Skrp",0],"./province/qinghai.js":["Skrp",0],"./province/shandong":["o4nb",0],"./province/shandong.js":["o4nb",0],"./province/shanghai":["9NOo",0],"./province/shanghai.js":["9NOo",0],"./province/shanxi":["Hik2",0],"./province/shanxi.js":["Hik2",0],"./province/shanxi1":["xuaG",0],"./province/shanxi1.js":["xuaG",0],"./province/sichuan":["1xr8",0],"./province/sichuan.js":["1xr8",0],"./province/taiwan":["pwDG",0],"./province/taiwan.js":["pwDG",0],"./province/tianjin":["+uhR",0],"./province/tianjin.js":["+uhR",0],"./province/xianggang":["S3b0",0],"./province/xianggang.js":["S3b0",0],"./province/xinjiang":["dxN8",0],"./province/xinjiang.js":["dxN8",0],"./province/xizang":["3OhQ",0],"./province/xizang.js":["3OhQ",0],"./province/yunnan":["aE3T",0],"./province/yunnan.js":["aE3T",0],"./province/zhejiang":["QEUK",0],"./province/zhejiang.js":["QEUK",0],"./world":["xU2t",0],"./world.js":["xU2t",0]};function r(e){var t=n[e];return t?a.e(t[1]).then(function(){var e=t[0];return a.t(e,7)}):Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}r.keys=function(){return Object.keys(n)},r.id="XkqJ",e.exports=r},ZfYN:function(e,t,a){"use strict";var n=a("2Taf"),r=a.n(n),i=a("vZ4D"),o=a.n(i),l=a("l4Ni"),s=a.n(l),c=a("ujKo"),d=a.n(c),u=a("MhPg"),p=a.n(u),h=a("q1tI"),m=a.n(h),f=(a("17x9"),a("MT78")),v=a.n(f),g=a("p0pE"),y=a.n(g),_=a("Y/ft"),b=a.n(_),j=a("jehZ"),x=a.n(j),C=a("Y+p1"),S=a.n(C),T=a("w8y4"),k=a("zLPB"),E=a("9F+s");function w(){return function(e){var t=function(t){function a(){var e,t;r()(this,a);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=s()(this,(e=d()(a)).call.apply(e,[this].concat(i))),t.state={option:{}},t}return p()(a,t),o()(a,[{key:"render",value:function(){return m.a.createElement(e,x()({option:this.state.option},this.props))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.analysisData,r=e.chartType,i=e.dataLimit,o=a.getOptionByType(n,r,i);return S()(o,t.option)?null:{option:o}}},{key:"getOptionByType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"barlike",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e||{},i=r.chart_type,o=r.data_limit,l=i||t,s=o||n,c={barlike:a.generateBarlikeChart,pielike:a.generatePielikeChart},d=c[l.split("_")[0]](e,l,s);return d}},{key:"generateBarlikeChart",value:function(e,t,a){var n=e.tooltip,r=void 0===n?{}:n,i=e.grid,o=void 0===i?{}:i,l=e.formatters,s=void 0===l?{}:l,c=Object(T["c"])(function(e){return e},function(e){return"function"===typeof s[e.seriesName]?s[e.seriesName](e.value):Object(k["f"])(e.value)}),d=Object(T["a"])(e,"barlike_horizon"===t,a);if(!d)return{};var u=d.legendData,p=b()(d,["legendData"]),h=y()({tooltip:y()({},E["a"],r,{formatter:c}),color:E["c"],grid:y()({},E["e"],o),legend:{show:u.length>1,data:u,bottom:10,itemWidth:10,itemHeight:10}},p);return h.legend.show&&(h.grid.bottom="44px"),h}},{key:"generatePielikeChart",value:function(e,t,a){var n=e.tooltip,r=void 0===n?{}:n,i=e.grid,o=void 0===i?{}:i,l=e.formatters,s=void 0===l?{}:l,c=Object(T["c"])(function(e){return e},function(e){return"function"===typeof s[e.seriesName]?s[e.seriesName](e.value):Object(k["f"])(e.value)}),d=Object(T["b"])(e,a);if(!d)return{};var u=y()({tooltip:y()({},E["f"],r,{formatter:c}),color:E["c"],grid:y()({},E["e"],o)},d);return u}}]),a}(h["PureComponent"]);return t}}var D,M,I,N,P,R,O=w,A=a("PPmU"),L=a("0BT5"),G=a("v4z3"),B=a.n(G),U=(D=O(),M=Object(A["a"])({handleWidth:!0,skipOnMount:!0,refreshMode:"throttle",refreshRate:300}),I=Object(L["a"])(),D(N=M(N=I((R=P=function(e){function t(){var e,a;r()(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return a=s()(this,(e=d()(t)).call.apply(e,[this].concat(i))),a.chart=null,a}return p()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.chart=v.a.init(this.echartRef),this.chart.setOption(this.props.option,!0)}},{key:"shouldComponentUpdate",value:function(e){var t=e.width,a=e.option,n=e.chartHeight;return!S()(this.props.option,a)&&this.chart&&this.chart.setOption(a,!0),this.props.width!==t&&this.chart&&this.chart.resize({width:t,height:n}),!1}},{key:"componentWillUnmount",value:function(){this.chart.dispose(),this.chart=null}},{key:"render",value:function(){var e=this,t=this.props,a=t.chartWidth,n=t.chartHeight;return m.a.createElement("div",{style:{width:a,height:n}},m.a.createElement("div",{className:B.a.baseChart,ref:function(t){e.echartRef=t}}))}}]),t}(h["Component"]),P.defaultProps={chartWidth:"100%",chartHeight:"400px",dataLimit:0,chartType:"barlike",option:{}},N=R))||N)||N)||N);t["a"]=U},a9jo:function(e,t,a){var n=a("ut/Y"),r=a("7Paf");function i(e,t){return e&&e.length?r(e,n(t,2)):0}e.exports=i},eQWT:function(e,t,a){},frMp:function(e,t,a){"use strict";a("T2oS");var n=a("W9HT"),r=a("jehZ"),i=a.n(r),o=a("p0pE"),l=a.n(o),s=a("Y/ft"),c=a.n(s),d=a("2Taf"),u=a.n(d),p=a("vZ4D"),h=a.n(p),m=a("l4Ni"),f=a.n(m),v=a("ujKo"),g=a.n(v),y=a("MhPg"),_=a.n(y),b=a("q1tI"),j=a.n(b),x=a("MuoO"),C=a("mwIZ"),S=a.n(C),T=a("zLPB");function k(e){var t=e.analysisModel,a=e.name,r=e.DataModel,o=e.paginationable,s=void 0!==o&&o,d=e.contentStyle,p=void 0===d?{}:d,m=e.noDataStatus,v=void 0===m||m,y=e.useThreshold,C=void 0!==y&&y,k=e.contentHeight,E=void 0===k?"200px":k;return function(e){var o,d,m,y=(o=Object(x["connect"])(function(e){var t=e.analysis,a=e.common;return{productCode:a.productCode,appCode:a.appCode,tenantCode:a.tenantCode,data:t.data,threshold:t.threshold,userIdentityType:t.userIdentityType,pageIdentityType:t.pageIdentityType}}),o((m=function(o){function d(){var e,n;u()(this,d);for(var i=arguments.length,o=new Array(i),p=0;p<i;p++)o[p]=arguments[p];return n=f()(this,(e=g()(d)).call.apply(e,[this].concat(o))),n.state={loading:!1,thresholdValue:0},n._getData=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.page,o=void 0===i?1:i,d=c()(e,["page"]),u=n.props,p=u.dispatch,h=u.productCode,m=u.appCode,f=u.tenantCode,v=u.userIdentityType,g=u.pageIdentityType,y=n.state.thresholdValue;if(h&&r&&a){var _=new r(l()({userIdentityType:v,pageIdentityType:g,threshold:y},d)),b=l()({analysisModel:t,productCode:h,appCode:m,tenantCode:f,name:a},_);s&&o>0&&(b.page=o),n.setState({loading:!0}),p({type:"analysis/fetchAnalysisData",payload:b}).then(function(){n.setState({loading:!1})})}},n}return _()(d,o),h()(d,[{key:"componentDidMount",value:function(){this._getData()}},{key:"getSnapshotBeforeUpdate",value:function(e,t){var a=this.props,n=a.productCode,r=a.appCode,i=a.tenantCode,o=a.userIdentityType,l=a.pageIdentityType,s=this.state.thresholdValue;return n!==e.productCode||r!==e.appCode||i!==e.tenantCode||(!(!C||"number"!==typeof s||s===t.thresholdValue)||(o!==e.userIdentityType||l!==e.pageIdentityType))}},{key:"componentDidUpdate",value:function(e,t,a){a&&this._getData()}},{key:"componentWillUnmount",value:function(){this.setState=function(){}}},{key:"render",value:function(){var r=this.props,o=r.data,d=r.productCode,u=r.appCode,h=r.tenantCode,m=c()(r,["data","productCode","appCode","tenantCode"]),f=this.state.loading;Reflect.deleteProperty(m,"threshold"),Reflect.deleteProperty(m,"userIdentityType"),Reflect.deleteProperty(m,"pageIdentityType");var g=Object(T["e"])({productCode:d,appCode:u,tenantCode:h,name:a}),y=S()(o,g,null),_=S()(y,"data",[]),b=S()(y,"msg","\u6682\u65e0\u6570\u636e"),x=!Array.isArray(_)||0===_.length,C=j.a.createElement("div",{style:{textAlign:"center",height:E,lineHeight:E}},f?null:b||"\u6682\u65e0\u6570\u636e");return j.a.createElement(n["a"],{spinning:f},j.a.createElement("div",{style:l()({height:E},p)},x&&v?C:j.a.createElement(e,i()({analysisData:y,analysisModel:t,name:a,paginationable:s,getData:this._getData},m))))}}],[{key:"getDerivedStateFromProps",value:function(e,a){if(C){var n=S()(e.threshold,t,null);if(n!==a.thresholdValue)return{thresholdValue:n}}return null}}]),d}(b["PureComponent"]),d=m))||d);return y}}t["a"]=k},kxAN:function(e,t,a){e.exports={indicatorCard:"indicatorCard___cZWaI",title:"title___jIDoI",value:"value___1Gup7",trend:"trend___2Owb4"}},rjEP:function(e,t,a){"use strict";var n,r,i,o,l=a("2Taf"),s=a.n(l),c=a("vZ4D"),d=a.n(c),u=a("l4Ni"),p=a.n(u),h=a("ujKo"),m=a.n(h),f=a("MhPg"),v=a.n(f),g=a("q1tI"),y=a.n(g),_=(a("17x9"),a("0BT5")),b=a("ZfYN"),j=a("QvT+"),x=a("0YDr"),C=a.n(x),S=a("q92V"),T=a.n(S),k=a("AE40"),E=a.n(k),w=a("PZX/"),D=a.n(w),M=a("mwIZ"),I=a.n(M),N=a("7llA"),P=a.n(N),R=(n=Object(_["a"])(),n((o=i=function(e){function t(){var e,a;s()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=p()(this,(e=m()(t)).call.apply(e,[this].concat(r))),a.renderCard=function(){var e=a.props.analysisData,t=e||{},n=t.data,r=void 0===n?[]:n,i=t.num_fields,o=void 0===i?[]:i,l=o.filter(function(e){return!e.hidden}),s=l[0],c=0,d=r.map(function(e){return e[s.alias]}),u={max:T.a,min:E.a,avg:D.a};c=s&&"function"===typeof u[s.fomula]?u[s.fomula](d):C()(d),s&&"function"===typeof s.formatter&&(c=s.formatter(c));var p=I()(s,"unit","")||"",h=I()(s,"alias","")||"";return y.a.createElement(j["a"],{title:h,value:c,suffix:p})},a}return v()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.analysisData,a=e.getData,n=e.style,r=e.noChart;return y.a.createElement("div",{className:P.a.overviewCard,style:n},this.renderCard(),!r&&t&&y.a.createElement(b["a"],{analysisData:t,getData:a,chartHeight:"62px"}))}}]),t}(g["PureComponent"]),i.defaultProps={style:{},noChart:!1},r=o))||r);t["a"]=R},s0kW:function(e,t,a){e.exports={pageView:"pageView___6S6HA",breadcrumb:"breadcrumb___1Trz1",breadItem:"breadItem___27cwR",link:"link___2gM-P",pageContainer:"pageContainer___75wnW",contentArea:"contentArea___1nxBu",scrollTopBtn:"scrollTopBtn___3kx-G",show:"show___gsN2G",noNav:"noNav___xXVni"}},t0Ix:function(e,t,a){e.exports={block:"block___39lHv",title:"title___1s0Sx",exportBtn:"exportBtn___W3rCA"}},v4z3:function(e,t,a){e.exports={baseChart:"baseChart___1s0-E",mapChart:"mapChart___t5BFa",backArrow:"backArrow___3pMwo",rankList:"rankList___CJZkI",rankTitle:"rankTitle___3Kzys",rankContent:"rankContent___1xoCG",rankRow:"rankRow___3WsrP",rankRowLeft:"rankRowLeft___ltySZ",rankNum:"rankNum___SBPQ2",rankRowRight:"rankRowRight___216Qa"}},vjuj:function(e,t,a){},w8y4:function(e,t,a){"use strict";a.d(t,"c",function(){return R}),a.d(t,"a",function(){return G}),a.d(t,"b",function(){return B});var n=a("WweU"),r=a.n(n),i=a("gWZ8"),o=a.n(i),l=a("p0pE"),s=a.n(l),c=a("eHn4"),d=a.n(c),u=a("wd/R"),p=a.n(u),h=a("mwIZ"),m=a.n(h),f=a("bt/X"),v=a.n(f),g=a("7GkX"),y=a.n(g),_=a("0YDr"),b=a.n(_),j=a("q92V"),x=a.n(j),C=a("AE40"),S=a.n(C),T=a("PZX/"),k=a.n(T),E=a("P4Tr"),w=a.n(E),D=a("BkRI"),M=a.n(D),I=a("zLPB"),N=a("Zf/7"),P=a("9F+s");function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e.value};return function(a){var n=Array.isArray(a)?a:[a],r="pie"===n[0].componentSubType,i="map"===n[0].componentSubType;if(i&&-1===n[0].dataIndex&&!n[0].data)return'<div class="base-chart-tooltip"><div class="title"><p>\u6682\u65e0\u6570\u636e</p></div></div>';var o="";if("function"===typeof e){var l=e(n[0].name),s=l.length>60?"".concat(l.slice(0,50),"..."):l;o='<div class="title"><p>'.concat(s,"</p></div>")}var c=n.map(function(e){return'\n      <div class="item" style="border-color: '.concat(e.color,'">\n        <p class="name">').concat(r?e.name:e.seriesName,'</p>\n        <p class="value">').concat(void 0===e.value?"-":t(e),"</p>\n      </div>\n    ")});return i&&n[0].data.rate&&c.push('\n        <div class="item" style="border-color: '.concat(P["c"][1],'">\n          <p class="name">\u5360\u6bd4</p>\n          <p class="value">').concat(n[0].data.rate,"</p>\n        </div>\n      ")),'<div class="base-chart-tooltip'.concat(r?" fast-chart-pip":"",'">\n      ').concat(o,'\n      <div class="items">\n        ').concat(c.join("\n"),"\n      </div>\n    </div>")}}function O(e,t,a,n){var r=[],i=e.map(function(e){return e[t]});if(a===n)for(var o=0,l=0;o<24;o++){var c=i[0],u=d()({},t,"".concat(o,":00"));o===c&&(u=s()({},e[l],d()({},t,"".concat(o,":00"))),i.shift(),l++),r.push(u)}else for(var h=p()(n).diff(p()(a),"d"),m=0,f=0;m<=h;m++){var v=p()(a).add(m,"d").format(N["d"]),g=p()(i[0]).format(N["d"]),y=d()({},t,v);v===g&&(y=s()({},e[f],d()({},t,v)),i.shift(),f++),r.push(y)}return r}function A(e){e/=.9;var t=[5,2],a=0,n=t[a];while(e>n)a=a?0:1,n*=t[a];return{max:n,interval:n/5}}function L(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t?12:8,n=a<=e?0:a-e;return a+Math.pow(n,2)}function G(e){var t,a=e.from_date,n=e.to_date,i=e.dim_fields,l=void 0===i?[]:i,c=e.num_fields,u=void 0===c?[]:c,p=e.value_axis,h=void 0===p?[]:p,f=e.category_axis,g=void 0===f?{}:f,_=e.data,j=void 0===_?[]:_,C=arguments.length>1&&void 0!==arguments[1]&&arguments[1],T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;if(j=M()(j),0===l.length)return null;var E=C?"yAxis":"xAxis",D=C?"xAxis":"yAxis",N="".concat(D,"Index"),R=(t={},d()(t,E,[w()({},g,P["g"])]),d()(t,"series",[]),d()(t,"legendData",[]),t),G=u.filter(function(e){return!e.hidden}),B={},U=function(e,t){C&&(e=e.slice(),e.reverse()),G.forEach(function(a,n){var r=t?"".concat(t," "):"",i=s()({name:"".concat(r).concat(a.alias),type:a.type||"bar",data:e.map(function(e){return e[a.alias]||0}),emphasis:{}},a.seriesConfig),l=Math.max.apply(Math,o()(i.data));i[N]=a.yAxisIndex||0,"line"===a.type&&(i.smooth=!0,i.smoothMonotone="x",i.emphasis.itemStyle=s()({color:P["c"][n],borderWidth:2,borderColor:"#fff"},m()(a,"seriesConfig.emphasis.itemStyle",null))),B[i[N]]?B[i[N]]=B[i[N]]<l?l:B[i[N]]:B[i[N]]=l,R.series.push(i),"line"===i.type&&R.legendData.push({name:i.name,icon:"circle"})})},z=function(e,t){C&&(e=e.slice(),e.reverse()),R[E][0].data=e.map(function(e){return e[t]||"-"});var a=L(e.length,C);R[E][0].axisLabel.formatter=I["h"].bind(null,a)},q=r()(l),V=q[0],F=q.slice(1);if(V.data_fill&&0===F.length){var H=O(j,V.alias,a,n);U(H),z(H,V.alias)}else if(V.data_fill&&F.length>0){var W=F.map(function(e){return e.alias}),Q=W.join("&");j=j.map(function(e){return s()({},e,d()({},Q,W.map(function(t){return e[t]}).join("&")))});var Z=v()(j,Q);y()(Z).forEach(function(e,t){var r=O(Z[e],V.alias,a,n);U(r,e),0===t&&z(r,V.alias)})}else{var Y=l.map(function(e){return e.alias}),K=Y.join("&"),X=j.map(function(e){return s()({},e,d()({},K,Y.map(function(t){return e[t]}).join("&")))});if(T>0&&X.length>T){var J=X.splice(T-1),$=d()({},K,"\u5176\u4ed6");G.forEach(function(e){var t=e.alias,a=J.map(function(e){return e[t]}),n={max:x.a,min:S.a,avg:k.a};"function"===typeof n[e.fomula]?$[t]=n[e.fomula](a):$[t]=b()(a),Number.isNaN($[t])&&($[t]=0)}),X.push($)}U(X),z(X,K)}return R[D]=h.map(function(e,t){var a=w()({},e,P["h"]);return s()({},a,A(B[t]))}),R}function B(e){var t=e.from_date,a=e.to_date,n=e.dim_fields,r=void 0===n?[]:n,i=e.num_fields,o=void 0===i?[]:i,l=e.data,c=void 0===l?[]:l,d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=o.filter(function(e){return!e.hidden}),p=r[0],h=u[0];p&&p.data_fill&&(c=O(c,p,t,a));var m=s()({},h.seriesConfig,{type:"pie",radius:"50%",center:["50%","50%"],startAngle:180,label:{show:!0,formatter:"{b}\n{d}%"},labelLine:{length:12,length2:16,smooth:.3},itemStyle:{borderWidth:1,borderColor:"#fff"},data:[]});if(!p&&u.length>0?m.data=u.map(function(e){return{name:e.alias,value:c[0][e.alias]}}):p&&h&&(m.data=c.map(function(e){return{name:e[p.alias]||"-",value:e[h.alias]}})),m.data.length>d){var f=b()(m.data.splice(d-1).map(function(e){return e.value}));m.data.push({name:"\u5176\u4ed6",value:f})}return{series:[m]}}},zG6y:function(e,t,a){"use strict";a.r(t);var n,r,i,o,l,s,c,d,u=a("p0pE"),p=a.n(u),h=a("2Taf"),m=a.n(h),f=a("vZ4D"),v=a.n(f),g=a("l4Ni"),y=a.n(g),_=a("ujKo"),b=a.n(_),j=a("MhPg"),x=a.n(j),C=a("q1tI"),S=a.n(C),T=a("frMp"),k=a("O8Rh"),E=a("wd/R"),w=a.n(E),D=a("zLPB"),M=a("Zf/7"),I=a("9F+s"),N={dim_fields:[{alias:"\u65f6\u95f4",name:"dt",data_fill:!0}],value_axis:[{name:"",splitLine:{show:!1},axisLabel:{show:!1}}],category_axis:{boundaryGap:!1,axisTick:{show:!1,alignWithLabel:!1},axisLine:{show:!1},axisLabel:{show:!1}},grid:{left:"24px",right:"24px",top:"15px",bottom:"20px"},tooltip:{axisPointer:{type:"line",lineStyle:{opacity:0}}},from_date:w()().subtract(6,"d").format(M["d"]),to_date:w()().format(M["d"]),date_unit:"day",order_by:["\u65f6\u95f4$asc"]},P=function(e){return{showSymbol:!1,lineStyle:{color:e},areaStyle:{opacity:1,color:e},itemStyle:{color:e},emphasis:{itemStyle:{color:e}}}},R=function e(){return m()(this,e),p()({},N,{num_fields:[{alias:"\u8bbf\u95ee\u91cf",fomula:"sum",name:"pv",type:"line",seriesConfig:P("RGBA(47,194,91,0.85)")}]})},O=function e(){return m()(this,e),p()({},N,{analysisModel:"active_user_device_browser_area",name:"overview_uv_trend_card_chart",model_type:M["f"].fct,num_fields:[{alias:"\u6d3b\u8dc3\u7528\u6237\u6570",fomula:"count",name:"user_id",filter:"uq",type:"line",seriesConfig:P(I["c"][5])}]})},A=function e(){return m()(this,e),{analysisModel:"active_user_device_browser_area",name:"overview_uv_trend_card_total",from_date:w()().subtract(6,"d").format(M["d"]),to_date:w()().format(M["d"]),date_unit:"day",model_type:M["f"].fct,num_fields:[{alias:"\u6d3b\u8dc3\u7528\u6237\u6570",fomula:"count",name:"user_id",filter:"uq"}]}},L=function e(){return m()(this,e),p()({},N,{model_type:M["f"].fct,num_fields:[{alias:"\u9875\u9762\u5e73\u5747\u52a0\u8f7d\u65f6\u95f4",fomula:"avg",name:"page_load_time",formatter:D["j"],unit:"ms",type:"line",seriesConfig:P(I["c"][0])}]})},G=function e(){return m()(this,e),p()({},N,{num_fields:[{alias:"\u5e94\u7528\u5f02\u5e38\u6570",name:"times",fomula:"sum",type:"line",seriesConfig:P(I["c"][4])}]})},B=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};m()(this,e);var a=t.through_index,n=void 0===a?0:a,r=t.filter,i=void 0===r?[]:r,o=[{alias:"\u7701",name:"province"},{alias:"\u5e02",name:"city"}];return{chart_type:"map",max_through_index:1,model_type:M["f"].fct,from_date:w()().subtract(6,"d").format(M["d"]),to_date:w()().format(M["d"]),date_unit:"day",dim_fields:[o[n]],num_fields:[{alias:"\u6d3b\u8dc3\u7528\u6237\u6570",name:"user_id",filter:"uq",fomula:"count"}],order_by:["\u6d3b\u8dc3\u7528\u6237\u6570$desc"],through_index:n,filter:i}},U=function e(){return m()(this,e),{data_limit:8,chart_type:"pielike",dim_fields:[{alias:"\u6d4f\u89c8\u5668",name:"browser_name"}],num_fields:[{alias:"\u4f7f\u7528\u5360\u6bd4",name:"pv",fomula:"sum"}],order_by:["\u4f7f\u7528\u5360\u6bd4$desc"]}},z=function e(){return m()(this,e),{data_limit:8,chart_type:"pielike",dim_fields:[{alias:"\u8bbe\u5907\u54c1\u724c",name:"device_manufacturer"}],num_fields:[{alias:"\u4f7f\u7528\u5360\u6bd4",name:"pv",fomula:"sum"}],order_by:["\u4f7f\u7528\u5360\u6bd4$desc"]}},q=function e(){return m()(this,e),{data_limit:8,chart_type:"pielike",dim_fields:[{alias:"\u7f51\u7edc",name:"network"}],num_fields:[{alias:"\u4f7f\u7528\u5360\u6bd4",name:"pv",fomula:"sum"}],order_by:["\u4f7f\u7528\u5360\u6bd4$desc"]}},V=function e(){return m()(this,e),{filter:["tenant$isnet()"],data_limit:6,chart_type:"barlike_horizon",grid:{left:"5%",right:"5%"},value_axis:[{name:""}],dim_fields:[{alias:"\u79df\u6237",name:"tenant"}],num_fields:[{alias:"\u6d4f\u89c8\u91cf",name:"pv",fomula:"sum"}],order_by:["\u6d4f\u89c8\u91cf$desc"]}},F=function e(){return m()(this,e),{filter:["tenant$isnet()"],data_limit:6,chart_type:"barlike_horizon",grid:{left:"5%",right:"5%"},value_axis:[{name:""}],model_type:M["f"].fct,dim_fields:[{alias:"\u79df\u6237",name:"tenant"}],num_fields:[{alias:"\u6d3b\u8dc3\u7528\u6237",name:"user_id",fomula:"count",filter:"uq"}],order_by:["\u6d3b\u8dc3\u7528\u6237$desc"]}},H=a("Kr6O"),W=a("1UQL"),Q=a("ZfYN"),Z=a("rjEP"),Y=a("8xof"),K=(a("T2oS"),a("W9HT")),X=(a("17x9"),a("MuoO")),J=a("QvT+"),$=a("mwIZ"),ee=a.n($),te=a("Y+p1"),ae=a.n(te),ne=a("LvDl"),re=a("0N5i"),ie=a.n(re),oe=(n=Object(X["connect"])(function(e){var t=e.analysis,a=e.common;return{productCode:a.productCode,appCode:a.appCode,tenantCode:a.tenantCode,data:t.data}}),n((o=i=function(e){function t(){var e,a;m()(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a=y()(this,(e=b()(t)).call.apply(e,[this].concat(r))),a.state={cardModel:null,chartModel:null,cardLoading:!1,chartLoading:!1},a.renderTotal=function(e){var t=a.props.cardHeight;if(!e)return S.a.createElement("div",{style:{position:"relative",height:t}});var n=Object(ne["isObject"])(e)?e:{},r=n.data,i=void 0===r?[]:r,o=n.num_fields,l=void 0===o?[]:o,s=l.filter(function(e){return!e.hidden}),c=s[0],d=ee()(i,[0,c.alias],0);"function"===typeof c.formatter&&(d=c.formatter(d));var u=c.unit||"";return S.a.createElement(J["a"],{title:c.alias,value:d,suffix:u})},a.renderChart=function(e){var t=a.props.chartHeight;return e?S.a.createElement(Q["a"],{analysisData:e,chartHeight:t}):S.a.createElement("div",{style:{position:"relative",height:t}})},a._getData=function(){var e=a.props,t=e.dispatch,n=e.productCode,r=e.appCode,i=e.tenantCode,o=a.state,l=o.cardModel,s=o.chartModel;if(l||s){var c={productCode:n,appCode:r,tenantCode:i};l&&l.analysisModel&&(a.setState({cardLoading:!0}),t({type:"analysis/fetchAnalysisData",payload:p()({},c,l)}).then(function(){a.setState({cardLoading:!1})})),s&&s.analysisModel&&(a.setState({chartLoading:!0}),t({type:"analysis/fetchAnalysisData",payload:p()({},c,s)}).then(function(){a.setState({chartLoading:!1})}))}},a._getAnalysisData=function(e){if(!e)return null;var t=a.props,n=t.productCode,r=t.appCode,i=t.tenantCode,o=t.data,l=Object(D["e"])({productCode:n,appCode:r,tenantCode:i,name:e});return ee()(o,l,null)},a}return x()(t,e),v()(t,[{key:"componentDidMount",value:function(){this._getData()}},{key:"getSnapshotBeforeUpdate",value:function(e){var t=this.props,a=t.productCode,n=t.appCode,r=t.tenantCode;return a!==e.productCode||n!==e.appCode||r!==e.tenantCode}},{key:"componentDidUpdate",value:function(e,t,a){a&&this._getData()}},{key:"componentWillUnmount",value:function(){this.setState=function(){}}},{key:"render",value:function(){var e=this.props.style,t=this.state,a=t.cardModel,n=t.chartModel,r=t.cardLoading,i=t.chartLoading,o=r||i,l=a?this._getAnalysisData(a.name):null,s=n?this._getAnalysisData(n.name):null;return S.a.createElement(K["a"],{spinning:o},S.a.createElement("div",{className:ie.a.dataCard,style:e},a&&this.renderTotal(l),n&&this.renderChart(s)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.CardModel,n=e.ChartModel,r=null,i="function"===typeof a?new a:null,o="function"===typeof n?new n:null;return i&&!ae()(i,t.cardModel)&&(r={cardModel:i}),o&&!ae()(i,t.cardModel)&&(r=p()({},r,{chartModel:o})),r}}]),t}(C["PureComponent"]),i.defaultProps={style:{}},r=o))||r),le=oe,se=a("EGzU"),ce=Object(T["a"])({analysisModel:"page_view",noDataStatus:!1,name:"overview_pv_trend_card",DataModel:R,contentHeight:"126px"})(Z["a"]),de=Object(T["a"])({analysisModel:"page_load",noDataStatus:!1,name:"overview_page_load_time_trend_card",DataModel:L,contentHeight:"126px"})(Z["a"]),ue=Object(T["a"])({analysisModel:"error_crash",noDataStatus:!1,name:"overview_error_trend_card",DataModel:G,contentHeight:"126px"})(Z["a"]),pe=Object(T["a"])({analysisModel:"active_user_device_browser_area",name:"overview_user_regional_map_loader",DataModel:B,contentHeight:"448px",contentStyle:{padding:"24px 0"}})(Y["a"]),he=(l=Object(k["a"])(),l((d=c=function(e){function t(){return m()(this,t),y()(this,b()(t).apply(this,arguments))}return x()(t,e),v()(t,[{key:"render",value:function(){var e=this.props,a=e.isHybridApp,n=e.isSaasApp,r=e.tenantCode,i={dateMode:"far7"};return S.a.createElement(H["a"],{navTitle:"\u6570\u636e\u6982\u89c8",subTitle:"\uff08\u8fd1\u4e03\u5929\u6570\u636e\uff09"},S.a.createElement("div",null,S.a.createElement(W["a"],{style:t.STYLES.cardBlock},S.a.createElement(ce,null)),S.a.createElement(W["a"],{style:t.STYLES.cardBlock},S.a.createElement(le,{ChartModel:O,CardModel:A,cardHeight:"64px",chartHeight:"62px",style:{height:"126px"}})),S.a.createElement(W["a"],{style:t.STYLES.cardBlock},S.a.createElement(de,null)),S.a.createElement(W["a"],{style:t.STYLES.cardBlockLast},S.a.createElement(ue,null)),S.a.createElement("div",{style:{clear:"both"}})),S.a.createElement(W["a"],{title:"\u6d3b\u8dc3\u7528\u6237\u5730\u533a\u5206\u5e03"},S.a.createElement(pe,{showRank:5})),S.a.createElement(W["a"],{title:a?"\u4f7f\u7528\u5360\u6bd4":"\u6d4f\u89c8\u5668\u4f7f\u7528\u5360\u6bd4"},S.a.createElement(se["a"],{analysisModel:"page_view",name:"overview_browser_device_network_proportion_filter",staticDate:i,dataModels:a?t.OVERVIEW_USING_PROPORTION_MODELS:[p()({},t.OVERVIEW_USING_PROPORTION_MODELS[0],{title:"",style:{}})]})),n&&!r&&S.a.createElement(W["a"],{title:"\u79df\u6237\u4f7f\u7528\u6982\u89c8"},S.a.createElement(se["a"],{name:"overview_tenant_using_filter",staticDate:i,dataModels:t.OVERVIEW_TENANT_USING_MODELS})))}}]),t}(C["PureComponent"]),c.OVERVIEW_USING_PROPORTION_MODELS=[{name:"overview_browser_proportion",title:"\u6d4f\u89c8\u5668",DataModel:U,paginationable:!1,style:{float:"left",width:"33.2%"},component:S.a.createElement(Q["a"],{chartHeight:"300px"})},{name:"overview_device_proportion",title:"\u79fb\u52a8\u8bbe\u5907\u54c1\u724c",DataModel:z,paginationable:!1,style:{float:"left",width:"33.2%"},component:S.a.createElement(Q["a"],{chartHeight:"300px"})},{name:"overview_network_proportion",title:"\u7f51\u7edc\u7c7b\u578b",DataModel:q,paginationable:!1,style:{float:"left",width:"33.2%"},component:S.a.createElement(Q["a"],{chartHeight:"300px"})}],c.OVERVIEW_TENANT_USING_MODELS=[{analysisModel:"page_view",name:"overview_tenant_using_pv",DataModel:V,paginationable:!1,title:"\u8bbf\u95ee\u91cf",style:{float:"left",width:"50%"},component:S.a.createElement(Q["a"],{chartHeight:"300px"})},{analysisModel:"active_user_device_browser_area",name:"overview_tenant_using_uv",DataModel:F,paginationable:!1,title:"\u6d3b\u8dc3\u7528\u6237",style:{float:"left",width:"50%"},component:S.a.createElement(Q["a"],{chartHeight:"300px"})}],c.STYLES={cardBlock:{padding:"20px 0 0",width:"calc(25% - 12px)",float:"left",marginRight:"16px"},cardBlockLast:{padding:"20px 0 0",width:"calc(25% - 12px)",float:"left"}},s=d))||s);t["default"]=he}}]);